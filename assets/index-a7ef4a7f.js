(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function qa(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Et={},or=[],Re=()=>{},Dp=()=>!1,xp=/^on[^a-z]/,Fi=e=>xp.test(e),za=e=>e.startsWith("onUpdate:"),Ot=Object.assign,Ka=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Vp=Object.prototype.hasOwnProperty,rt=(e,t)=>Vp.call(e,t),q=Array.isArray,ar=e=>Bi(e)==="[object Map]",rh=e=>Bi(e)==="[object Set]",Q=e=>typeof e=="function",Dt=e=>typeof e=="string",Wa=e=>typeof e=="symbol",Tt=e=>e!==null&&typeof e=="object",sh=e=>(Tt(e)||Q(e))&&Q(e.then)&&Q(e.catch),ih=Object.prototype.toString,Bi=e=>ih.call(e),kp=e=>Bi(e).slice(8,-1),oh=e=>Bi(e)==="[object Object]",Ga=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ri=qa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$i=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Np=/-(\w)/g,$e=$i(e=>e.replace(Np,(t,n)=>n?n.toUpperCase():"")),Op=/\B([A-Z])/g,Gn=$i(e=>e.replace(Op,"-$1").toLowerCase()),Ui=$i(e=>e.charAt(0).toUpperCase()+e.slice(1)),bo=$i(e=>e?`on${Ui(e)}`:""),qn=(e,t)=>!Object.is(e,t),So=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},fi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Mp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Lp=e=>{const t=Dt(e)?Number(e):NaN;return isNaN(t)?e:t};let rc;const ta=()=>rc||(rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ns(e){if(q(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Dt(r)?Up(r):ns(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Dt(e)||Tt(e))return e}const Fp=/;(?![^(]*\))/g,Bp=/:([^]+)/,$p=/\/\*[^]*?\*\//g;function Up(e){const t={};return e.replace($p,"").split(Fp).forEach(n=>{if(n){const r=n.split(Bp);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Fe(e){let t="";if(Dt(e))t=e;else if(q(e))for(let n=0;n<e.length;n++){const r=Fe(e[n]);r&&(t+=r+" ")}else if(Tt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const jp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hp=qa(jp);function ah(e){return!!e||e===""}const Be=e=>Dt(e)?e:e==null?"":q(e)||Tt(e)&&(e.toString===ih||!Q(e.toString))?JSON.stringify(e,lh,2):String(e),lh=(e,t)=>t&&t.__v_isRef?lh(e,t.value):ar(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:rh(t)?{[`Set(${t.size})`]:[...t.values()]}:Tt(t)&&!q(t)&&!oh(t)?String(t):t;let _e;class qp{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_e,!t&&_e&&(this.index=(_e.scopes||(_e.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=_e;try{return _e=this,t()}finally{_e=n}}}on(){_e=this}off(){_e=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function zp(e,t=_e){t&&t.active&&t.effects.push(e)}function Kp(){return _e}const Qa=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ch=e=>(e.w&yn)>0,uh=e=>(e.n&yn)>0,Wp=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=yn},Gp=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];ch(s)&&!uh(s)?s.delete(e):t[n++]=s,s.w&=~yn,s.n&=~yn}t.length=n}},ea=new WeakMap;let jr=0,yn=1;const na=30;let ve;const $n=Symbol(""),ra=Symbol("");class Ya{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,zp(this,r)}run(){if(!this.active)return this.fn();let t=ve,n=hn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ve,ve=this,hn=!0,yn=1<<++jr,jr<=na?Wp(this):sc(this),this.fn()}finally{jr<=na&&Gp(this),yn=1<<--jr,ve=this.parent,hn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ve===this?this.deferStop=!0:this.active&&(sc(this),this.onStop&&this.onStop(),this.active=!1)}}function sc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let hn=!0;const hh=[];function br(){hh.push(hn),hn=!1}function Sr(){const e=hh.pop();hn=e===void 0?!0:e}function ae(e,t,n){if(hn&&ve){let r=ea.get(e);r||ea.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Qa()),fh(s)}}function fh(e,t){let n=!1;jr<=na?uh(e)||(e.n|=yn,n=!ch(e)):n=!e.has(ve),n&&(e.add(ve),ve.deps.push(e))}function Ge(e,t,n,r,s,i){const o=ea.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&q(e)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":q(e)?Ga(n)&&a.push(o.get("length")):(a.push(o.get($n)),ar(e)&&a.push(o.get(ra)));break;case"delete":q(e)||(a.push(o.get($n)),ar(e)&&a.push(o.get(ra)));break;case"set":ar(e)&&a.push(o.get($n));break}if(a.length===1)a[0]&&sa(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);sa(Qa(l))}}function sa(e,t){const n=q(e)?e:[...e];for(const r of n)r.computed&&ic(r);for(const r of n)r.computed||ic(r)}function ic(e,t){(e!==ve||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Qp=qa("__proto__,__v_isRef,__isVue"),dh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Wa)),oc=Yp();function Yp(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=at(this);for(let i=0,o=this.length;i<o;i++)ae(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(at)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){br();const r=at(this)[t].apply(this,n);return Sr(),r}}),e}function Xp(e){const t=at(this);return ae(t,"has",e),t.hasOwnProperty(e)}class ph{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw"&&r===(s?i?um:yh:i?_h:gh).get(t))return t;const o=q(t);if(!s){if(o&&rt(oc,n))return Reflect.get(oc,n,r);if(n==="hasOwnProperty")return Xp}const a=Reflect.get(t,n,r);return(Wa(n)?dh.has(n):Qp(n))||(s||ae(t,"get",n),i)?a:Wt(a)?o&&Ga(n)?a:a.value:Tt(a)?s?Eh(a):Hi(a):a}}class mh extends ph{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(dr(i)&&Wt(i)&&!Wt(r))return!1;if(!this._shallow&&(!di(r)&&!dr(r)&&(i=at(i),r=at(r)),!q(t)&&Wt(i)&&!Wt(r)))return i.value=r,!0;const o=q(t)&&Ga(n)?Number(n)<t.length:rt(t,n),a=Reflect.set(t,n,r,s);return t===at(s)&&(o?qn(r,i)&&Ge(t,"set",n,r):Ge(t,"add",n,r)),a}deleteProperty(t,n){const r=rt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ge(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Wa(n)||!dh.has(n))&&ae(t,"has",n),r}ownKeys(t){return ae(t,"iterate",q(t)?"length":$n),Reflect.ownKeys(t)}}class Jp extends ph{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Zp=new mh,tm=new Jp,em=new mh(!0),Xa=e=>e,ji=e=>Reflect.getPrototypeOf(e);function Us(e,t,n=!1,r=!1){e=e.__v_raw;const s=at(e),i=at(t);n||(qn(t,i)&&ae(s,"get",t),ae(s,"get",i));const{has:o}=ji(s),a=r?Xa:n?tl:rs;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function js(e,t=!1){const n=this.__v_raw,r=at(n),s=at(e);return t||(qn(e,s)&&ae(r,"has",e),ae(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Hs(e,t=!1){return e=e.__v_raw,!t&&ae(at(e),"iterate",$n),Reflect.get(e,"size",e)}function ac(e){e=at(e);const t=at(this);return ji(t).has.call(t,e)||(t.add(e),Ge(t,"add",e,e)),this}function lc(e,t){t=at(t);const n=at(this),{has:r,get:s}=ji(n);let i=r.call(n,e);i||(e=at(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?qn(t,o)&&Ge(n,"set",e,t):Ge(n,"add",e,t),this}function cc(e){const t=at(this),{has:n,get:r}=ji(t);let s=n.call(t,e);s||(e=at(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Ge(t,"delete",e,void 0),i}function uc(){const e=at(this),t=e.size!==0,n=e.clear();return t&&Ge(e,"clear",void 0,void 0),n}function qs(e,t){return function(r,s){const i=this,o=i.__v_raw,a=at(o),l=t?Xa:e?tl:rs;return!e&&ae(a,"iterate",$n),o.forEach((c,u)=>r.call(s,l(c),l(u),i))}}function zs(e,t,n){return function(...r){const s=this.__v_raw,i=at(s),o=ar(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?Xa:t?tl:rs;return!t&&ae(i,"iterate",l?ra:$n),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function rn(e){return function(...t){return e==="delete"?!1:this}}function nm(){const e={get(i){return Us(this,i)},get size(){return Hs(this)},has:js,add:ac,set:lc,delete:cc,clear:uc,forEach:qs(!1,!1)},t={get(i){return Us(this,i,!1,!0)},get size(){return Hs(this)},has:js,add:ac,set:lc,delete:cc,clear:uc,forEach:qs(!1,!0)},n={get(i){return Us(this,i,!0)},get size(){return Hs(this,!0)},has(i){return js.call(this,i,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:qs(!0,!1)},r={get(i){return Us(this,i,!0,!0)},get size(){return Hs(this,!0)},has(i){return js.call(this,i,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:qs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=zs(i,!1,!1),n[i]=zs(i,!0,!1),t[i]=zs(i,!1,!0),r[i]=zs(i,!0,!0)}),[e,n,t,r]}const[rm,sm,im,om]=nm();function Ja(e,t){const n=t?e?om:im:e?sm:rm;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(rt(n,s)&&s in r?n:r,s,i)}const am={get:Ja(!1,!1)},lm={get:Ja(!1,!0)},cm={get:Ja(!0,!1)},gh=new WeakMap,_h=new WeakMap,yh=new WeakMap,um=new WeakMap;function hm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fm(e){return e.__v_skip||!Object.isExtensible(e)?0:hm(kp(e))}function Hi(e){return dr(e)?e:Za(e,!1,Zp,am,gh)}function vh(e){return Za(e,!1,em,lm,_h)}function Eh(e){return Za(e,!0,tm,cm,yh)}function Za(e,t,n,r,s){if(!Tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=fm(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function lr(e){return dr(e)?lr(e.__v_raw):!!(e&&e.__v_isReactive)}function dr(e){return!!(e&&e.__v_isReadonly)}function di(e){return!!(e&&e.__v_isShallow)}function wh(e){return lr(e)||dr(e)}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function Th(e){return fi(e,"__v_skip",!0),e}const rs=e=>Tt(e)?Hi(e):e,tl=e=>Tt(e)?Eh(e):e;function Ih(e){hn&&ve&&(e=at(e),fh(e.dep||(e.dep=Qa())))}function Ah(e,t){e=at(e);const n=e.dep;n&&sa(n)}function Wt(e){return!!(e&&e.__v_isRef===!0)}function be(e){return Rh(e,!1)}function dm(e){return Rh(e,!0)}function Rh(e,t){return Wt(e)?e:new pm(e,t)}class pm{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:at(t),this._value=n?t:rs(t)}get value(){return Ih(this),this._value}set value(t){const n=this.__v_isShallow||di(t)||dr(t);t=n?t:at(t),qn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:rs(t),Ah(this))}}function At(e){return Wt(e)?e.value:e}const mm={get:(e,t,n)=>At(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Wt(s)&&!Wt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function bh(e){return lr(e)?e:new Proxy(e,mm)}class gm{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ya(t,()=>{this._dirty||(this._dirty=!0,Ah(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=at(this);return Ih(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function _m(e,t,n=!1){let r,s;const i=Q(e);return i?(r=e,s=Re):(r=e.get,s=e.set),new gm(r,s,i||!s,n)}function fn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){qi(i,t,n)}return s}function pe(e,t,n,r){if(Q(e)){const i=fn(e,t,n,r);return i&&sh(i)&&i.catch(o=>{qi(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(pe(e[i],t,n,r));return s}function qi(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){fn(l,null,10,[e,o,a]);return}}ym(e,n,s,r)}function ym(e,t,n,r=!0){console.error(e)}let ss=!1,ia=!1;const Zt=[];let ke=0;const cr=[];let Ke=null,xn=0;const Sh=Promise.resolve();let el=null;function Ch(e){const t=el||Sh;return e?t.then(this?e.bind(this):e):t}function vm(e){let t=ke+1,n=Zt.length;for(;t<n;){const r=t+n>>>1;is(Zt[r])<e?t=r+1:n=r}return t}function nl(e){(!Zt.length||!Zt.includes(e,ss&&e.allowRecurse?ke+1:ke))&&(e.id==null?Zt.push(e):Zt.splice(vm(e.id),0,e),Ph())}function Ph(){!ss&&!ia&&(ia=!0,el=Sh.then(xh))}function Em(e){const t=Zt.indexOf(e);t>ke&&Zt.splice(t,1)}function wm(e){q(e)?cr.push(...e):(!Ke||!Ke.includes(e,e.allowRecurse?xn+1:xn))&&cr.push(e),Ph()}function hc(e,t=ss?ke+1:0){for(;t<Zt.length;t++){const n=Zt[t];n&&n.pre&&(Zt.splice(t,1),t--,n())}}function Dh(e){if(cr.length){const t=[...new Set(cr)];if(cr.length=0,Ke){Ke.push(...t);return}for(Ke=t,Ke.sort((n,r)=>is(n)-is(r)),xn=0;xn<Ke.length;xn++)Ke[xn]();Ke=null,xn=0}}const is=e=>e.id==null?1/0:e.id,Tm=(e,t)=>{const n=is(e)-is(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function xh(e){ia=!1,ss=!0,Zt.sort(Tm);const t=Re;try{for(ke=0;ke<Zt.length;ke++){const n=Zt[ke];n&&n.active!==!1&&fn(n,null,14)}}finally{ke=0,Zt.length=0,Dh(),ss=!1,el=null,(Zt.length||cr.length)&&xh()}}function Im(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Et;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||Et;f&&(s=n.map(m=>Dt(m)?m.trim():m)),h&&(s=n.map(Mp))}let a,l=r[a=bo(t)]||r[a=bo($e(t))];!l&&i&&(l=r[a=bo(Gn(t))]),l&&pe(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,pe(c,e,6,s)}}function Vh(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!Q(e)){const l=c=>{const u=Vh(c,t,!0);u&&(a=!0,Ot(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Tt(e)&&r.set(e,null),null):(q(i)?i.forEach(l=>o[l]=null):Ot(o,i),Tt(e)&&r.set(e,o),o)}function zi(e,t){return!e||!Fi(t)?!1:(t=t.slice(2).replace(/Once$/,""),rt(e,t[0].toLowerCase()+t.slice(1))||rt(e,Gn(t))||rt(e,t))}let ue=null,kh=null;function pi(e){const t=ue;return ue=e,kh=e&&e.type.__scopeId||null,t}function Te(e,t=ue,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Ac(-1);const i=pi(t);let o;try{o=e(...s)}finally{pi(i),r._d&&Ac(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Co(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:m,ctx:E,inheritAttrs:_}=e;let T,S;const C=pi(e);try{if(n.shapeFlag&4){const k=s||r;T=Ve(u.call(k,k,h,i,m,f,E)),S=l}else{const k=t;T=Ve(k.length>1?k(i,{attrs:l,slots:a,emit:c}):k(i,null)),S=t.props?l:Am(l)}}catch(k){Wr.length=0,qi(k,e,1),T=ot(Se)}let B=T;if(S&&_!==!1){const k=Object.keys(S),{shapeFlag:Z}=B;k.length&&Z&7&&(o&&k.some(za)&&(S=Rm(S,o)),B=vn(B,S))}return n.dirs&&(B=vn(B),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&(B.transition=n.transition),T=B,pi(C),T}const Am=e=>{let t;for(const n in e)(n==="class"||n==="style"||Fi(n))&&((t||(t={}))[n]=e[n]);return t},Rm=(e,t)=>{const n={};for(const r in e)(!za(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function bm(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?fc(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!zi(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?fc(r,o,c):!0:!!o;return!1}function fc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!zi(n,i))return!0}return!1}function Sm({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Cm=e=>e.__isSuspense;function Pm(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):wm(e)}const Ks={};function si(e,t,n){return Nh(e,t,n)}function Nh(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=Et){var a;const l=Kp()===((a=Lt)==null?void 0:a.scope)?Lt:null;let c,u=!1,h=!1;if(Wt(e)?(c=()=>e.value,u=di(e)):lr(e)?(c=()=>e,r=!0):q(e)?(h=!0,u=e.some(k=>lr(k)||di(k)),c=()=>e.map(k=>{if(Wt(k))return k.value;if(lr(k))return On(k);if(Q(k))return fn(k,l,2)})):Q(e)?t?c=()=>fn(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),pe(e,l,3,[m])}:c=Re,t&&r){const k=c;c=()=>On(k())}let f,m=k=>{f=C.onStop=()=>{fn(k,l,4)}},E;if(as)if(m=Re,t?n&&pe(t,l,3,[c(),h?[]:void 0,m]):c(),s==="sync"){const k=Ig();E=k.__watcherHandles||(k.__watcherHandles=[])}else return Re;let _=h?new Array(e.length).fill(Ks):Ks;const T=()=>{if(C.active)if(t){const k=C.run();(r||u||(h?k.some((Z,lt)=>qn(Z,_[lt])):qn(k,_)))&&(f&&f(),pe(t,l,3,[k,_===Ks?void 0:h&&_[0]===Ks?[]:_,m]),_=k)}else C.run()};T.allowRecurse=!!t;let S;s==="sync"?S=T:s==="post"?S=()=>oe(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),S=()=>nl(T));const C=new Ya(c,S);t?n?T():_=C.run():s==="post"?oe(C.run.bind(C),l&&l.suspense):C.run();const B=()=>{C.stop(),l&&l.scope&&Ka(l.scope.effects,C)};return E&&E.push(B),B}function Dm(e,t,n){const r=this.proxy,s=Dt(e)?e.includes(".")?Oh(r,e):()=>r[e]:e.bind(r,r);let i;Q(t)?i=t:(i=t.handler,n=t);const o=Lt;mr(this);const a=Nh(s,i.bind(r),n);return o?mr(o):Un(),a}function Oh(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function On(e,t){if(!Tt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Wt(e))On(e.value,t);else if(q(e))for(let n=0;n<e.length;n++)On(e[n],t);else if(rh(e)||ar(e))e.forEach(n=>{On(n,t)});else if(oh(e))for(const n in e)On(e[n],t);return e}function dc(e,t){const n=ue;if(n===null)return e;const r=Xi(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,c=Et]=t[i];o&&(Q(o)&&(o={mounted:o,updated:o}),o.deep&&On(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function bn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(br(),pe(l,n,8,[e.el,a,e,t]),Sr())}}const ln=Symbol("_leaveCb"),Ws=Symbol("_enterCb");function xm(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return en(()=>{e.isMounted=!0}),$h(()=>{e.isUnmounting=!0}),e}const fe=[Function,Array],Mh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fe,onEnter:fe,onAfterEnter:fe,onEnterCancelled:fe,onBeforeLeave:fe,onLeave:fe,onAfterLeave:fe,onLeaveCancelled:fe,onBeforeAppear:fe,onAppear:fe,onAfterAppear:fe,onAppearCancelled:fe},Vm={name:"BaseTransition",props:Mh,setup(e,{slots:t}){const n=mg(),r=xm();let s;return()=>{const i=t.default&&Fh(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const _ of i)if(_.type!==Se){o=_;break}}const a=at(e),{mode:l}=a;if(r.isLeaving)return Po(o);const c=pc(o);if(!c)return Po(o);const u=oa(c,a,r,n);aa(c,u);const h=n.subTree,f=h&&pc(h);let m=!1;const{getTransitionKey:E}=c.type;if(E){const _=E();s===void 0?s=_:_!==s&&(s=_,m=!0)}if(f&&f.type!==Se&&(!Vn(c,f)||m)){const _=oa(f,a,r,n);if(aa(f,_),l==="out-in")return r.isLeaving=!0,_.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Po(o);l==="in-out"&&c.type!==Se&&(_.delayLeave=(T,S,C)=>{const B=Lh(r,f);B[String(f.key)]=f,T[ln]=()=>{S(),T[ln]=void 0,delete u.delayedLeave},u.delayedLeave=C})}return o}}},km=Vm;function Lh(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function oa(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:E,onBeforeAppear:_,onAppear:T,onAfterAppear:S,onAppearCancelled:C}=t,B=String(e.key),k=Lh(n,e),Z=(G,ct)=>{G&&pe(G,r,9,ct)},lt=(G,ct)=>{const nt=ct[1];Z(G,ct),q(G)?G.every(Y=>Y.length<=1)&&nt():G.length<=1&&nt()},Rt={mode:i,persisted:o,beforeEnter(G){let ct=a;if(!n.isMounted)if(s)ct=_||a;else return;G[ln]&&G[ln](!0);const nt=k[B];nt&&Vn(e,nt)&&nt.el[ln]&&nt.el[ln](),Z(ct,[G])},enter(G){let ct=l,nt=c,Y=u;if(!n.isMounted)if(s)ct=T||l,nt=S||c,Y=C||u;else return;let M=!1;const it=G[Ws]=kt=>{M||(M=!0,kt?Z(Y,[G]):Z(nt,[G]),Rt.delayedLeave&&Rt.delayedLeave(),G[Ws]=void 0)};ct?lt(ct,[G,it]):it()},leave(G,ct){const nt=String(e.key);if(G[Ws]&&G[Ws](!0),n.isUnmounting)return ct();Z(h,[G]);let Y=!1;const M=G[ln]=it=>{Y||(Y=!0,ct(),it?Z(E,[G]):Z(m,[G]),G[ln]=void 0,k[nt]===e&&delete k[nt])};k[nt]=e,f?lt(f,[G,M]):M()},clone(G){return oa(G,t,n,r)}};return Rt}function Po(e){if(Ki(e))return e=vn(e),e.children=null,e}function pc(e){return Ki(e)?e.children?e.children[0]:void 0:e}function aa(e,t){e.shapeFlag&6&&e.component?aa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Fh(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Nt?(o.patchFlag&128&&s++,r=r.concat(Fh(o.children,t,a))):(t||o.type!==Se)&&r.push(a!=null?vn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function me(e,t){return Q(e)?(()=>Ot({name:e.name},t,{setup:e}))():e}const ii=e=>!!e.type.__asyncLoader,Ki=e=>e.type.__isKeepAlive;function Nm(e,t){Bh(e,"a",t)}function Om(e,t){Bh(e,"da",t)}function Bh(e,t,n=Lt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Wi(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Ki(s.parent.vnode)&&Mm(r,t,n,s),s=s.parent}}function Mm(e,t,n,r){const s=Wi(t,e,r,!0);Cr(()=>{Ka(r[t],s)},n)}function Wi(e,t,n=Lt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;br(),mr(n);const a=pe(t,n,e,o);return Un(),Sr(),a});return r?s.unshift(i):s.push(i),i}}const tn=e=>(t,n=Lt)=>(!as||e==="sp")&&Wi(e,(...r)=>t(...r),n),Lm=tn("bm"),en=tn("m"),Fm=tn("bu"),Bm=tn("u"),$h=tn("bum"),Cr=tn("um"),$m=tn("sp"),Um=tn("rtg"),jm=tn("rtc");function Hm(e,t=Lt){Wi("ec",e,t)}const rl="components";function la(e,t){return jh(rl,e,!0,t)||e}const Uh=Symbol.for("v-ndc");function sl(e){return Dt(e)?jh(rl,e,!1)||e:e||Uh}function jh(e,t,n=!0,r=!1){const s=ue||Lt;if(s){const i=s.type;if(e===rl){const a=Eg(i,!1);if(a&&(a===t||a===$e(t)||a===Ui($e(t))))return i}const o=mc(s[e]||i[e],t)||mc(s.appContext[e],t);return!o&&r?i:o}}function mc(e,t){return e&&(e[t]||e[$e(t)]||e[Ui($e(t))])}function pr(e,t,n,r){let s;const i=n&&n[r];if(q(e)||Dt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Tt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const ca=e=>e?Zh(e)?Xi(e)||e.proxy:ca(e.parent):null,Kr=Ot(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ca(e.parent),$root:e=>ca(e.root),$emit:e=>e.emit,$options:e=>il(e),$forceUpdate:e=>e.f||(e.f=()=>nl(e.update)),$nextTick:e=>e.n||(e.n=Ch.bind(e.proxy)),$watch:e=>Dm.bind(e)}),Do=(e,t)=>e!==Et&&!e.__isScriptSetup&&rt(e,t),qm={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Do(r,t))return o[t]=1,r[t];if(s!==Et&&rt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&rt(c,t))return o[t]=3,i[t];if(n!==Et&&rt(n,t))return o[t]=4,n[t];ua&&(o[t]=0)}}const u=Kr[t];let h,f;if(u)return t==="$attrs"&&ae(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Et&&rt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,rt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Do(s,t)?(s[t]=n,!0):r!==Et&&rt(r,t)?(r[t]=n,!0):rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==Et&&rt(e,o)||Do(t,o)||(a=i[0])&&rt(a,o)||rt(r,o)||rt(Kr,o)||rt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:rt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function gc(e){return q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ua=!0;function zm(e){const t=il(e),n=e.proxy,r=e.ctx;ua=!1,t.beforeCreate&&_c(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:m,updated:E,activated:_,deactivated:T,beforeDestroy:S,beforeUnmount:C,destroyed:B,unmounted:k,render:Z,renderTracked:lt,renderTriggered:Rt,errorCaptured:G,serverPrefetch:ct,expose:nt,inheritAttrs:Y,components:M,directives:it,filters:kt}=t;if(c&&Km(c,r,null),o)for(const gt in o){const ut=o[gt];Q(ut)&&(r[gt]=ut.bind(n))}if(s){const gt=s.call(n,n);Tt(gt)&&(e.data=Hi(gt))}if(ua=!0,i)for(const gt in i){const ut=i[gt],qe=Q(ut)?ut.bind(n,n):Q(ut.get)?ut.get.bind(n,n):Re,nn=!Q(ut)&&Q(ut.set)?ut.set.bind(n):Re,Pe=Ee({get:qe,set:nn});Object.defineProperty(r,gt,{enumerable:!0,configurable:!0,get:()=>Pe.value,set:ie=>Pe.value=ie})}if(a)for(const gt in a)Hh(a[gt],r,n,gt);if(l){const gt=Q(l)?l.call(n):l;Reflect.ownKeys(gt).forEach(ut=>{oi(ut,gt[ut])})}u&&_c(u,e,"c");function Pt(gt,ut){q(ut)?ut.forEach(qe=>gt(qe.bind(n))):ut&&gt(ut.bind(n))}if(Pt(Lm,h),Pt(en,f),Pt(Fm,m),Pt(Bm,E),Pt(Nm,_),Pt(Om,T),Pt(Hm,G),Pt(jm,lt),Pt(Um,Rt),Pt($h,C),Pt(Cr,k),Pt($m,ct),q(nt))if(nt.length){const gt=e.exposed||(e.exposed={});nt.forEach(ut=>{Object.defineProperty(gt,ut,{get:()=>n[ut],set:qe=>n[ut]=qe})})}else e.exposed||(e.exposed={});Z&&e.render===Re&&(e.render=Z),Y!=null&&(e.inheritAttrs=Y),M&&(e.components=M),it&&(e.directives=it)}function Km(e,t,n=Re){q(e)&&(e=ha(e));for(const r in e){const s=e[r];let i;Tt(s)?"default"in s?i=Qe(s.from||r,s.default,!0):i=Qe(s.from||r):i=Qe(s),Wt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function _c(e,t,n){pe(q(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Hh(e,t,n,r){const s=r.includes(".")?Oh(n,r):()=>n[r];if(Dt(e)){const i=t[e];Q(i)&&si(s,i)}else if(Q(e))si(s,e.bind(n));else if(Tt(e))if(q(e))e.forEach(i=>Hh(i,t,n,r));else{const i=Q(e.handler)?e.handler.bind(n):t[e.handler];Q(i)&&si(s,i,e)}}function il(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>mi(l,c,o,!0)),mi(l,t,o)),Tt(t)&&i.set(t,l),l}function mi(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&mi(e,i,n,!0),s&&s.forEach(o=>mi(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Wm[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Wm={data:yc,props:vc,emits:vc,methods:Hr,computed:Hr,beforeCreate:re,created:re,beforeMount:re,mounted:re,beforeUpdate:re,updated:re,beforeDestroy:re,beforeUnmount:re,destroyed:re,unmounted:re,activated:re,deactivated:re,errorCaptured:re,serverPrefetch:re,components:Hr,directives:Hr,watch:Qm,provide:yc,inject:Gm};function yc(e,t){return t?e?function(){return Ot(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function Gm(e,t){return Hr(ha(e),ha(t))}function ha(e){if(q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function re(e,t){return e?[...new Set([].concat(e,t))]:t}function Hr(e,t){return e?Ot(Object.create(null),e,t):t}function vc(e,t){return e?q(e)&&q(t)?[...new Set([...e,...t])]:Ot(Object.create(null),gc(e),gc(t??{})):t}function Qm(e,t){if(!e)return t;if(!t)return e;const n=Ot(Object.create(null),e);for(const r in t)n[r]=re(e[r],t[r]);return n}function qh(){return{app:null,config:{isNativeTag:Dp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ym=0;function Xm(e,t){return function(r,s=null){Q(r)||(r=Ot({},r)),s!=null&&!Tt(s)&&(s=null);const i=qh(),o=new WeakSet;let a=!1;const l=i.app={_uid:Ym++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Ag,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&Q(c.install)?(o.add(c),c.install(l,...u)):Q(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=ot(r,s);return f.appContext=i,u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Xi(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){gi=l;try{return c()}finally{gi=null}}};return l}}let gi=null;function oi(e,t){if(Lt){let n=Lt.provides;const r=Lt.parent&&Lt.parent.provides;r===n&&(n=Lt.provides=Object.create(r)),n[e]=t}}function Qe(e,t,n=!1){const r=Lt||ue;if(r||gi){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:gi._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Q(t)?t.call(r&&r.proxy):t}}function Jm(e,t,n,r=!1){const s={},i={};fi(i,Yi,1),e.propsDefaults=Object.create(null),zh(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:vh(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Zm(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=at(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(zi(e.emitsOptions,f))continue;const m=t[f];if(l)if(rt(i,f))m!==i[f]&&(i[f]=m,c=!0);else{const E=$e(f);s[E]=fa(l,a,E,m,e,!1)}else m!==i[f]&&(i[f]=m,c=!0)}}}else{zh(e,t,s,i)&&(c=!0);let u;for(const h in a)(!t||!rt(t,h)&&((u=Gn(h))===h||!rt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=fa(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!rt(t,h))&&(delete i[h],c=!0)}c&&Ge(e,"set","$attrs")}function zh(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ri(l))continue;const c=t[l];let u;s&&rt(s,u=$e(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:zi(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=at(n),c=a||Et;for(let u=0;u<i.length;u++){const h=i[u];n[h]=fa(s,l,h,c[h],e,!rt(c,h))}}return o}function fa(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=rt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Q(l)){const{propsDefaults:c}=s;n in c?r=c[n]:(mr(s),r=c[n]=l.call(null,t),Un())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Gn(n))&&(r=!0))}return r}function Kh(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!Q(e)){const u=h=>{l=!0;const[f,m]=Kh(h,t,!0);Ot(o,f),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return Tt(e)&&r.set(e,or),or;if(q(i))for(let u=0;u<i.length;u++){const h=$e(i[u]);Ec(h)&&(o[h]=Et)}else if(i)for(const u in i){const h=$e(u);if(Ec(h)){const f=i[u],m=o[h]=q(f)||Q(f)?{type:f}:Ot({},f);if(m){const E=Ic(Boolean,m.type),_=Ic(String,m.type);m[0]=E>-1,m[1]=_<0||E<_,(E>-1||rt(m,"default"))&&a.push(h)}}}const c=[o,a];return Tt(e)&&r.set(e,c),c}function Ec(e){return e[0]!=="$"}function wc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Tc(e,t){return wc(e)===wc(t)}function Ic(e,t){return q(t)?t.findIndex(n=>Tc(n,e)):Q(t)&&Tc(t,e)?0:-1}const Wh=e=>e[0]==="_"||e==="$stable",ol=e=>q(e)?e.map(Ve):[Ve(e)],tg=(e,t,n)=>{if(t._n)return t;const r=Te((...s)=>ol(t(...s)),n);return r._c=!1,r},Gh=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Wh(s))continue;const i=e[s];if(Q(i))t[s]=tg(s,i,r);else if(i!=null){const o=ol(i);t[s]=()=>o}}},Qh=(e,t)=>{const n=ol(t);e.slots.default=()=>n},eg=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=at(t),fi(t,"_",n)):Gh(t,e.slots={})}else e.slots={},t&&Qh(e,t);fi(e.slots,Yi,1)},ng=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Et;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Ot(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Gh(t,s)),o=t}else t&&(Qh(e,t),o={default:1});if(i)for(const a in s)!Wh(a)&&o[a]==null&&delete s[a]};function da(e,t,n,r,s=!1){if(q(e)){e.forEach((f,m)=>da(f,t&&(q(t)?t[m]:t),n,r,s));return}if(ii(r)&&!s)return;const i=r.shapeFlag&4?Xi(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Et?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Dt(c)?(u[c]=null,rt(h,c)&&(h[c]=null)):Wt(c)&&(c.value=null)),Q(l))fn(l,a,12,[o,u]);else{const f=Dt(l),m=Wt(l);if(f||m){const E=()=>{if(e.f){const _=f?rt(h,l)?h[l]:u[l]:l.value;s?q(_)&&Ka(_,i):q(_)?_.includes(i)||_.push(i):f?(u[l]=[i],rt(h,l)&&(h[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,rt(h,l)&&(h[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(E.id=-1,oe(E,n)):E()}}}const oe=Pm;function rg(e){return sg(e)}function sg(e,t){const n=ta();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:m=Re,insertStaticContent:E}=e,_=(d,p,g,y=null,w=null,A=null,N=!1,P=null,D=!!p.dynamicChildren)=>{if(d===p)return;d&&!Vn(d,p)&&(y=v(d),ie(d,w,A,!0),d=null),p.patchFlag===-2&&(D=!1,p.dynamicChildren=null);const{type:R,ref:U,shapeFlag:F}=p;switch(R){case Gi:T(d,p,g,y);break;case Se:S(d,p,g,y);break;case ai:d==null&&C(p,g,y,N);break;case Nt:M(d,p,g,y,w,A,N,P,D);break;default:F&1?Z(d,p,g,y,w,A,N,P,D):F&6?it(d,p,g,y,w,A,N,P,D):(F&64||F&128)&&R.process(d,p,g,y,w,A,N,P,D,x)}U!=null&&w&&da(U,d&&d.ref,A,p||d,!p)},T=(d,p,g,y)=>{if(d==null)r(p.el=a(p.children),g,y);else{const w=p.el=d.el;p.children!==d.children&&c(w,p.children)}},S=(d,p,g,y)=>{d==null?r(p.el=l(p.children||""),g,y):p.el=d.el},C=(d,p,g,y)=>{[d.el,d.anchor]=E(d.children,p,g,y,d.el,d.anchor)},B=({el:d,anchor:p},g,y)=>{let w;for(;d&&d!==p;)w=f(d),r(d,g,y),d=w;r(p,g,y)},k=({el:d,anchor:p})=>{let g;for(;d&&d!==p;)g=f(d),s(d),d=g;s(p)},Z=(d,p,g,y,w,A,N,P,D)=>{N=N||p.type==="svg",d==null?lt(p,g,y,w,A,N,P,D):ct(d,p,w,A,N,P,D)},lt=(d,p,g,y,w,A,N,P)=>{let D,R;const{type:U,props:F,shapeFlag:j,transition:W,dirs:J}=d;if(D=d.el=o(d.type,A,F&&F.is,F),j&8?u(D,d.children):j&16&&G(d.children,D,null,y,w,A&&U!=="foreignObject",N,P),J&&bn(d,null,y,"created"),Rt(D,d,d.scopeId,N,y),F){for(const mt in F)mt!=="value"&&!ri(mt)&&i(D,mt,null,F[mt],A,d.children,y,w,Qt);"value"in F&&i(D,"value",null,F.value),(R=F.onVnodeBeforeMount)&&xe(R,y,d)}J&&bn(d,null,y,"beforeMount");const _t=(!w||w&&!w.pendingBranch)&&W&&!W.persisted;_t&&W.beforeEnter(D),r(D,p,g),((R=F&&F.onVnodeMounted)||_t||J)&&oe(()=>{R&&xe(R,y,d),_t&&W.enter(D),J&&bn(d,null,y,"mounted")},w)},Rt=(d,p,g,y,w)=>{if(g&&m(d,g),y)for(let A=0;A<y.length;A++)m(d,y[A]);if(w){let A=w.subTree;if(p===A){const N=w.vnode;Rt(d,N,N.scopeId,N.slotScopeIds,w.parent)}}},G=(d,p,g,y,w,A,N,P,D=0)=>{for(let R=D;R<d.length;R++){const U=d[R]=P?cn(d[R]):Ve(d[R]);_(null,U,p,g,y,w,A,N,P)}},ct=(d,p,g,y,w,A,N)=>{const P=p.el=d.el;let{patchFlag:D,dynamicChildren:R,dirs:U}=p;D|=d.patchFlag&16;const F=d.props||Et,j=p.props||Et;let W;g&&Sn(g,!1),(W=j.onVnodeBeforeUpdate)&&xe(W,g,p,d),U&&bn(p,d,g,"beforeUpdate"),g&&Sn(g,!0);const J=w&&p.type!=="foreignObject";if(R?nt(d.dynamicChildren,R,P,g,y,J,A):N||ut(d,p,P,null,g,y,J,A,!1),D>0){if(D&16)Y(P,p,F,j,g,y,w);else if(D&2&&F.class!==j.class&&i(P,"class",null,j.class,w),D&4&&i(P,"style",F.style,j.style,w),D&8){const _t=p.dynamicProps;for(let mt=0;mt<_t.length;mt++){const xt=_t[mt],ge=F[xt],Zn=j[xt];(Zn!==ge||xt==="value")&&i(P,xt,ge,Zn,w,d.children,g,y,Qt)}}D&1&&d.children!==p.children&&u(P,p.children)}else!N&&R==null&&Y(P,p,F,j,g,y,w);((W=j.onVnodeUpdated)||U)&&oe(()=>{W&&xe(W,g,p,d),U&&bn(p,d,g,"updated")},y)},nt=(d,p,g,y,w,A,N)=>{for(let P=0;P<p.length;P++){const D=d[P],R=p[P],U=D.el&&(D.type===Nt||!Vn(D,R)||D.shapeFlag&70)?h(D.el):g;_(D,R,U,null,y,w,A,N,!0)}},Y=(d,p,g,y,w,A,N)=>{if(g!==y){if(g!==Et)for(const P in g)!ri(P)&&!(P in y)&&i(d,P,g[P],null,N,p.children,w,A,Qt);for(const P in y){if(ri(P))continue;const D=y[P],R=g[P];D!==R&&P!=="value"&&i(d,P,R,D,N,p.children,w,A,Qt)}"value"in y&&i(d,"value",g.value,y.value)}},M=(d,p,g,y,w,A,N,P,D)=>{const R=p.el=d?d.el:a(""),U=p.anchor=d?d.anchor:a("");let{patchFlag:F,dynamicChildren:j,slotScopeIds:W}=p;W&&(P=P?P.concat(W):W),d==null?(r(R,g,y),r(U,g,y),G(p.children,g,U,w,A,N,P,D)):F>0&&F&64&&j&&d.dynamicChildren?(nt(d.dynamicChildren,j,g,w,A,N,P),(p.key!=null||w&&p===w.subTree)&&Yh(d,p,!0)):ut(d,p,g,U,w,A,N,P,D)},it=(d,p,g,y,w,A,N,P,D)=>{p.slotScopeIds=P,d==null?p.shapeFlag&512?w.ctx.activate(p,g,y,N,D):kt(p,g,y,w,A,N,D):He(d,p,D)},kt=(d,p,g,y,w,A,N)=>{const P=d.component=pg(d,y,w);if(Ki(d)&&(P.ctx.renderer=x),gg(P),P.asyncDep){if(w&&w.registerDep(P,Pt),!d.el){const D=P.subTree=ot(Se);S(null,D,p,g)}return}Pt(P,d,p,g,w,A,N)},He=(d,p,g)=>{const y=p.component=d.component;if(bm(d,p,g))if(y.asyncDep&&!y.asyncResolved){gt(y,p,g);return}else y.next=p,Em(y.update),y.update();else p.el=d.el,y.vnode=p},Pt=(d,p,g,y,w,A,N)=>{const P=()=>{if(d.isMounted){let{next:U,bu:F,u:j,parent:W,vnode:J}=d,_t=U,mt;Sn(d,!1),U?(U.el=J.el,gt(d,U,N)):U=J,F&&So(F),(mt=U.props&&U.props.onVnodeBeforeUpdate)&&xe(mt,W,U,J),Sn(d,!0);const xt=Co(d),ge=d.subTree;d.subTree=xt,_(ge,xt,h(ge.el),v(ge),d,w,A),U.el=xt.el,_t===null&&Sm(d,xt.el),j&&oe(j,w),(mt=U.props&&U.props.onVnodeUpdated)&&oe(()=>xe(mt,W,U,J),w)}else{let U;const{el:F,props:j}=p,{bm:W,m:J,parent:_t}=d,mt=ii(p);if(Sn(d,!1),W&&So(W),!mt&&(U=j&&j.onVnodeBeforeMount)&&xe(U,_t,p),Sn(d,!0),F&&ht){const xt=()=>{d.subTree=Co(d),ht(F,d.subTree,d,w,null)};mt?p.type.__asyncLoader().then(()=>!d.isUnmounted&&xt()):xt()}else{const xt=d.subTree=Co(d);_(null,xt,g,y,d,w,A),p.el=xt.el}if(J&&oe(J,w),!mt&&(U=j&&j.onVnodeMounted)){const xt=p;oe(()=>xe(U,_t,xt),w)}(p.shapeFlag&256||_t&&ii(_t.vnode)&&_t.vnode.shapeFlag&256)&&d.a&&oe(d.a,w),d.isMounted=!0,p=g=y=null}},D=d.effect=new Ya(P,()=>nl(R),d.scope),R=d.update=()=>D.run();R.id=d.uid,Sn(d,!0),R()},gt=(d,p,g)=>{p.component=d;const y=d.vnode.props;d.vnode=p,d.next=null,Zm(d,p.props,y,g),ng(d,p.children,g),br(),hc(),Sr()},ut=(d,p,g,y,w,A,N,P,D=!1)=>{const R=d&&d.children,U=d?d.shapeFlag:0,F=p.children,{patchFlag:j,shapeFlag:W}=p;if(j>0){if(j&128){nn(R,F,g,y,w,A,N,P,D);return}else if(j&256){qe(R,F,g,y,w,A,N,P,D);return}}W&8?(U&16&&Qt(R,w,A),F!==R&&u(g,F)):U&16?W&16?nn(R,F,g,y,w,A,N,P,D):Qt(R,w,A,!0):(U&8&&u(g,""),W&16&&G(F,g,y,w,A,N,P,D))},qe=(d,p,g,y,w,A,N,P,D)=>{d=d||or,p=p||or;const R=d.length,U=p.length,F=Math.min(R,U);let j;for(j=0;j<F;j++){const W=p[j]=D?cn(p[j]):Ve(p[j]);_(d[j],W,g,null,w,A,N,P,D)}R>U?Qt(d,w,A,!0,!1,F):G(p,g,y,w,A,N,P,D,F)},nn=(d,p,g,y,w,A,N,P,D)=>{let R=0;const U=p.length;let F=d.length-1,j=U-1;for(;R<=F&&R<=j;){const W=d[R],J=p[R]=D?cn(p[R]):Ve(p[R]);if(Vn(W,J))_(W,J,g,null,w,A,N,P,D);else break;R++}for(;R<=F&&R<=j;){const W=d[F],J=p[j]=D?cn(p[j]):Ve(p[j]);if(Vn(W,J))_(W,J,g,null,w,A,N,P,D);else break;F--,j--}if(R>F){if(R<=j){const W=j+1,J=W<U?p[W].el:y;for(;R<=j;)_(null,p[R]=D?cn(p[R]):Ve(p[R]),g,J,w,A,N,P,D),R++}}else if(R>j)for(;R<=F;)ie(d[R],w,A,!0),R++;else{const W=R,J=R,_t=new Map;for(R=J;R<=j;R++){const ce=p[R]=D?cn(p[R]):Ve(p[R]);ce.key!=null&&_t.set(ce.key,R)}let mt,xt=0;const ge=j-J+1;let Zn=!1,tc=0;const Nr=new Array(ge);for(R=0;R<ge;R++)Nr[R]=0;for(R=W;R<=F;R++){const ce=d[R];if(xt>=ge){ie(ce,w,A,!0);continue}let De;if(ce.key!=null)De=_t.get(ce.key);else for(mt=J;mt<=j;mt++)if(Nr[mt-J]===0&&Vn(ce,p[mt])){De=mt;break}De===void 0?ie(ce,w,A,!0):(Nr[De-J]=R+1,De>=tc?tc=De:Zn=!0,_(ce,p[De],g,null,w,A,N,P,D),xt++)}const ec=Zn?ig(Nr):or;for(mt=ec.length-1,R=ge-1;R>=0;R--){const ce=J+R,De=p[ce],nc=ce+1<U?p[ce+1].el:y;Nr[R]===0?_(null,De,g,nc,w,A,N,P,D):Zn&&(mt<0||R!==ec[mt]?Pe(De,g,nc,2):mt--)}}},Pe=(d,p,g,y,w=null)=>{const{el:A,type:N,transition:P,children:D,shapeFlag:R}=d;if(R&6){Pe(d.component.subTree,p,g,y);return}if(R&128){d.suspense.move(p,g,y);return}if(R&64){N.move(d,p,g,x);return}if(N===Nt){r(A,p,g);for(let F=0;F<D.length;F++)Pe(D[F],p,g,y);r(d.anchor,p,g);return}if(N===ai){B(d,p,g);return}if(y!==2&&R&1&&P)if(y===0)P.beforeEnter(A),r(A,p,g),oe(()=>P.enter(A),w);else{const{leave:F,delayLeave:j,afterLeave:W}=P,J=()=>r(A,p,g),_t=()=>{F(A,()=>{J(),W&&W()})};j?j(A,J,_t):_t()}else r(A,p,g)},ie=(d,p,g,y=!1,w=!1)=>{const{type:A,props:N,ref:P,children:D,dynamicChildren:R,shapeFlag:U,patchFlag:F,dirs:j}=d;if(P!=null&&da(P,null,g,d,!0),U&256){p.ctx.deactivate(d);return}const W=U&1&&j,J=!ii(d);let _t;if(J&&(_t=N&&N.onVnodeBeforeUnmount)&&xe(_t,p,d),U&6)$s(d.component,g,y);else{if(U&128){d.suspense.unmount(g,y);return}W&&bn(d,null,p,"beforeUnmount"),U&64?d.type.remove(d,p,g,w,x,y):R&&(A!==Nt||F>0&&F&64)?Qt(R,p,g,!1,!0):(A===Nt&&F&384||!w&&U&16)&&Qt(D,p,g),y&&Xn(d)}(J&&(_t=N&&N.onVnodeUnmounted)||W)&&oe(()=>{_t&&xe(_t,p,d),W&&bn(d,null,p,"unmounted")},g)},Xn=d=>{const{type:p,el:g,anchor:y,transition:w}=d;if(p===Nt){Jn(g,y);return}if(p===ai){k(d);return}const A=()=>{s(g),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(d.shapeFlag&1&&w&&!w.persisted){const{leave:N,delayLeave:P}=w,D=()=>N(g,A);P?P(d.el,A,D):D()}else A()},Jn=(d,p)=>{let g;for(;d!==p;)g=f(d),s(d),d=g;s(p)},$s=(d,p,g)=>{const{bum:y,scope:w,update:A,subTree:N,um:P}=d;y&&So(y),w.stop(),A&&(A.active=!1,ie(N,d,p,g)),P&&oe(P,p),oe(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Qt=(d,p,g,y=!1,w=!1,A=0)=>{for(let N=A;N<d.length;N++)ie(d[N],p,g,y,w)},v=d=>d.shapeFlag&6?v(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),L=(d,p,g)=>{d==null?p._vnode&&ie(p._vnode,null,null,!0):_(p._vnode||null,d,p,null,null,null,g),hc(),Dh(),p._vnode=d},x={p:_,um:ie,m:Pe,r:Xn,mt:kt,mc:G,pc:ut,pbc:nt,n:v,o:e};let $,ht;return t&&([$,ht]=t(x)),{render:L,hydrate:$,createApp:Xm(L,$)}}function Sn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Yh(e,t,n=!1){const r=e.children,s=t.children;if(q(r)&&q(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=cn(s[i]),a.el=o.el),n||Yh(o,a)),a.type===Gi&&(a.el=o.el)}}function ig(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const og=e=>e.__isTeleport,Nt=Symbol.for("v-fgt"),Gi=Symbol.for("v-txt"),Se=Symbol.for("v-cmt"),ai=Symbol.for("v-stc"),Wr=[];let Ie=null;function ft(e=!1){Wr.push(Ie=e?null:[])}function ag(){Wr.pop(),Ie=Wr[Wr.length-1]||null}let os=1;function Ac(e){os+=e}function Xh(e){return e.dynamicChildren=os>0?Ie||or:null,ag(),os>0&&Ie&&Ie.push(e),e}function vt(e,t,n,r,s,i){return Xh(z(e,t,n,r,s,i,!0))}function Qi(e,t,n,r,s){return Xh(ot(e,t,n,r,s,!0))}function pa(e){return e?e.__v_isVNode===!0:!1}function Vn(e,t){return e.type===t.type&&e.key===t.key}const Yi="__vInternal",Jh=({key:e})=>e??null,li=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||Wt(e)||Q(e)?{i:ue,r:e,k:t,f:!!n}:e:null);function z(e,t=null,n=null,r=0,s=null,i=e===Nt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jh(t),ref:t&&li(t),scopeId:kh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ue};return a?(al(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Dt(n)?8:16),os>0&&!o&&Ie&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ie.push(l),l}const ot=lg;function lg(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Uh)&&(e=Se),pa(e)){const a=vn(e,t,!0);return n&&al(a,n),os>0&&!i&&Ie&&(a.shapeFlag&6?Ie[Ie.indexOf(e)]=a:Ie.push(a)),a.patchFlag|=-2,a}if(wg(e)&&(e=e.__vccOpts),t){t=cg(t);let{class:a,style:l}=t;a&&!Dt(a)&&(t.class=Fe(a)),Tt(l)&&(wh(l)&&!q(l)&&(l=Ot({},l)),t.style=ns(l))}const o=Dt(e)?1:Cm(e)?128:og(e)?64:Tt(e)?4:Q(e)?2:0;return z(e,t,n,r,s,o,i,!0)}function cg(e){return e?wh(e)||Yi in e?Ot({},e):e:null}function vn(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?hg(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Jh(a),ref:t&&t.ref?n&&s?q(s)?s.concat(li(t)):[s,li(t)]:li(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vn(e.ssContent),ssFallback:e.ssFallback&&vn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Oe(e=" ",t=0){return ot(Gi,null,e,t)}function ug(e,t){const n=ot(ai,null,e);return n.staticCount=t,n}function dn(e="",t=!1){return t?(ft(),Qi(Se,null,e)):ot(Se,null,e)}function Ve(e){return e==null||typeof e=="boolean"?ot(Se):q(e)?ot(Nt,null,e.slice()):typeof e=="object"?cn(e):ot(Gi,null,String(e))}function cn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vn(e)}function al(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(q(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),al(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Yi in t)?t._ctx=ue:s===3&&ue&&(ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:ue},n=32):(t=String(t),r&64?(n=16,t=[Oe(t)]):n=8);e.children=t,e.shapeFlag|=n}function hg(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Fe([t.class,r.class]));else if(s==="style")t.style=ns([t.style,r.style]);else if(Fi(s)){const i=t[s],o=r[s];o&&i!==o&&!(q(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function xe(e,t,n,r=null){pe(e,t,7,[n,r])}const fg=qh();let dg=0;function pg(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||fg,i={uid:dg++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new qp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kh(r,s),emitsOptions:Vh(r,s),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:r.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Im.bind(null,i),e.ce&&e.ce(i),i}let Lt=null;const mg=()=>Lt||ue;let ll,tr,Rc="__VUE_INSTANCE_SETTERS__";(tr=ta()[Rc])||(tr=ta()[Rc]=[]),tr.push(e=>Lt=e),ll=e=>{tr.length>1?tr.forEach(t=>t(e)):tr[0](e)};const mr=e=>{ll(e),e.scope.on()},Un=()=>{Lt&&Lt.scope.off(),ll(null)};function Zh(e){return e.vnode.shapeFlag&4}let as=!1;function gg(e,t=!1){as=t;const{props:n,children:r}=e.vnode,s=Zh(e);Jm(e,n,s,t),eg(e,r);const i=s?_g(e,t):void 0;return as=!1,i}function _g(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Th(new Proxy(e.ctx,qm));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?vg(e):null;mr(e),br();const i=fn(r,e,0,[e.props,s]);if(Sr(),Un(),sh(i)){if(i.then(Un,Un),t)return i.then(o=>{bc(e,o,t)}).catch(o=>{qi(o,e,0)});e.asyncDep=i}else bc(e,i,t)}else tf(e,t)}function bc(e,t,n){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Tt(t)&&(e.setupState=bh(t)),tf(e,n)}let Sc;function tf(e,t,n){const r=e.type;if(!e.render){if(!t&&Sc&&!r.render){const s=r.template||il(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Ot(Ot({isCustomElement:i,delimiters:a},o),l);r.render=Sc(s,c)}}e.render=r.render||Re}{mr(e),br();try{zm(e)}finally{Sr(),Un()}}}function yg(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ae(e,"get","$attrs"),t[n]}}))}function vg(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return yg(e)},slots:e.slots,emit:e.emit,expose:t}}function Xi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(bh(Th(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Kr)return Kr[n](e)},has(t,n){return n in t||n in Kr}}))}function Eg(e,t=!0){return Q(e)?e.displayName||e.name:e.name||t&&e.__name}function wg(e){return Q(e)&&"__vccOpts"in e}const Ee=(e,t)=>_m(e,t,as);function cl(e,t,n){const r=arguments.length;return r===2?Tt(t)&&!q(t)?pa(t)?ot(e,null,[t]):ot(e,t):ot(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&pa(n)&&(n=[n]),ot(e,t,n))}const Tg=Symbol.for("v-scx"),Ig=()=>Qe(Tg),Ag="3.3.6",Rg="http://www.w3.org/2000/svg",kn=typeof document<"u"?document:null,Cc=kn&&kn.createElement("template"),bg={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?kn.createElementNS(Rg,e):kn.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>kn.createTextNode(e),createComment:e=>kn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>kn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Cc.innerHTML=r?`<svg>${e}</svg>`:e;const a=Cc.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},sn="transition",Or="animation",ls=Symbol("_vtc"),gr=(e,{slots:t})=>cl(km,Sg(e),t);gr.displayName="Transition";const ef={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};gr.props=Ot({},Mh,ef);const Cn=(e,t=[])=>{q(e)?e.forEach(n=>n(...t)):e&&e(...t)},Pc=e=>e?q(e)?e.some(t=>t.length>1):e.length>1:!1;function Sg(e){const t={};for(const M in e)M in ef||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,E=Cg(s),_=E&&E[0],T=E&&E[1],{onBeforeEnter:S,onEnter:C,onEnterCancelled:B,onLeave:k,onLeaveCancelled:Z,onBeforeAppear:lt=S,onAppear:Rt=C,onAppearCancelled:G=B}=t,ct=(M,it,kt)=>{Pn(M,it?u:a),Pn(M,it?c:o),kt&&kt()},nt=(M,it)=>{M._isLeaving=!1,Pn(M,h),Pn(M,m),Pn(M,f),it&&it()},Y=M=>(it,kt)=>{const He=M?Rt:C,Pt=()=>ct(it,M,kt);Cn(He,[it,Pt]),Dc(()=>{Pn(it,M?l:i),on(it,M?u:a),Pc(He)||xc(it,r,_,Pt)})};return Ot(t,{onBeforeEnter(M){Cn(S,[M]),on(M,i),on(M,o)},onBeforeAppear(M){Cn(lt,[M]),on(M,l),on(M,c)},onEnter:Y(!1),onAppear:Y(!0),onLeave(M,it){M._isLeaving=!0;const kt=()=>nt(M,it);on(M,h),xg(),on(M,f),Dc(()=>{M._isLeaving&&(Pn(M,h),on(M,m),Pc(k)||xc(M,r,T,kt))}),Cn(k,[M,kt])},onEnterCancelled(M){ct(M,!1),Cn(B,[M])},onAppearCancelled(M){ct(M,!0),Cn(G,[M])},onLeaveCancelled(M){nt(M),Cn(Z,[M])}})}function Cg(e){if(e==null)return null;if(Tt(e))return[xo(e.enter),xo(e.leave)];{const t=xo(e);return[t,t]}}function xo(e){return Lp(e)}function on(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ls]||(e[ls]=new Set)).add(t)}function Pn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[ls];n&&(n.delete(t),n.size||(e[ls]=void 0))}function Dc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Pg=0;function xc(e,t,n,r){const s=e._endId=++Pg,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Dg(e,t);if(!o)return r();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,f),i()},f=m=>{m.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,f)}function Dg(e,t){const n=window.getComputedStyle(e),r=E=>(n[E]||"").split(", "),s=r(`${sn}Delay`),i=r(`${sn}Duration`),o=Vc(s,i),a=r(`${Or}Delay`),l=r(`${Or}Duration`),c=Vc(a,l);let u=null,h=0,f=0;t===sn?o>0&&(u=sn,h=o,f=i.length):t===Or?c>0&&(u=Or,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?sn:Or:null,f=u?u===sn?i.length:l.length:0);const m=u===sn&&/\b(transform|all)(,|$)/.test(r(`${sn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:m}}function Vc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>kc(n)+kc(e[r])))}function kc(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function xg(){return document.body.offsetHeight}function Vg(e,t,n){const r=e[ls];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ul=Symbol("_vod"),Nc={beforeMount(e,{value:t},{transition:n}){e[ul]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Mr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Mr(e,!0),r.enter(e)):r.leave(e,()=>{Mr(e,!1)}):Mr(e,t))},beforeUnmount(e,{value:t}){Mr(e,t)}};function Mr(e,t){e.style.display=t?e[ul]:"none"}function kg(e,t,n){const r=e.style,s=Dt(n);if(n&&!s){if(t&&!Dt(t))for(const i in t)n[i]==null&&ma(r,i,"");for(const i in n)ma(r,i,n[i])}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),ul in e&&(r.display=i)}}const Oc=/\s*!important$/;function ma(e,t,n){if(q(n))n.forEach(r=>ma(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Ng(e,t);Oc.test(n)?e.setProperty(Gn(r),n.replace(Oc,""),"important"):e[r]=n}}const Mc=["Webkit","Moz","ms"],Vo={};function Ng(e,t){const n=Vo[t];if(n)return n;let r=$e(t);if(r!=="filter"&&r in e)return Vo[t]=r;r=Ui(r);for(let s=0;s<Mc.length;s++){const i=Mc[s]+r;if(i in e)return Vo[t]=i}return t}const Lc="http://www.w3.org/1999/xlink";function Og(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Lc,t.slice(6,t.length)):e.setAttributeNS(Lc,t,n);else{const i=Hp(t);n==null||i&&!ah(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Mg(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=ah(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Lg(e,t,n,r){e.addEventListener(t,n,r)}function Fg(e,t,n,r){e.removeEventListener(t,n,r)}const Fc=Symbol("_vei");function Bg(e,t,n,r,s=null){const i=e[Fc]||(e[Fc]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=$g(t);if(r){const c=i[t]=Hg(r,s);Lg(e,a,c,l)}else o&&(Fg(e,a,o,l),i[t]=void 0)}}const Bc=/(?:Once|Passive|Capture)$/;function $g(e){let t;if(Bc.test(e)){t={};let r;for(;r=e.match(Bc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gn(e.slice(2)),t]}let ko=0;const Ug=Promise.resolve(),jg=()=>ko||(Ug.then(()=>ko=0),ko=Date.now());function Hg(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;pe(qg(r,n.value),t,5,[r])};return n.value=e,n.attached=jg(),n}function qg(e,t){if(q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const $c=/^on[a-z]/,zg=(e,t,n,r,s=!1,i,o,a,l)=>{t==="class"?Vg(e,r,s):t==="style"?kg(e,n,r):Fi(t)?za(t)||Bg(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kg(e,t,r,s))?Mg(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Og(e,t,r,s))};function Kg(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&$c.test(t)&&Q(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||$c.test(t)&&Dt(n)?!1:t in e}const Wg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nf=(e,t)=>n=>{if(!("key"in n))return;const r=Gn(n.key);if(t.some(s=>s===r||Wg[s]===r))return e(n)},Gg=Ot({patchProp:zg},bg);let Uc;function Qg(){return Uc||(Uc=rg(Gg))}const Yg=(...e)=>{const t=Qg().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Xg(r);if(!s)return;const i=t._component;!Q(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Xg(e){return Dt(e)?document.querySelector(e):e}const ci=e=>new URL(e,import.meta.url).href,Jg=e=>{try{location.href=e}catch(t){console.warn(t)}},Zg=(e,t,n)=>{const r=[],s=e.length;for(let i=0;i<s;i++)n=i===0?n:n*1.05,r[i]=setTimeout(()=>t.placeholder+=e[i],n);return r},No=(e,t)=>{const n=e instanceof HTMLElement?e:e.target,r=n.offsetHeight+"px",s=n.offsetWidth+"px",i=n.innerText;let o=0;n.style.height=r,n.style.width=s,n.innerHTML="",n.style.whiteSpace="nowrap";const a=()=>{i[o]?(n.innerHTML+=i[o],o++,setTimeout(()=>a(),t)):n.removeAttribute("style")};a()},Ji=()=>{document.querySelectorAll(".animTxt").forEach(e=>No(e,40)),document.querySelectorAll(".animTxtSlow").forEach(e=>No(e,70)),document.querySelectorAll(".animTxtFast").forEach(e=>No(e,10))},jc=e=>e.charAt(0).toUpperCase()+e.slice(1),cs=(e,t)=>t?t.value=window.innerWidth<e||!1:window.innerWidth<e||!1,t_=(e,t,n,r)=>{if(!n&&!r&&(t!=null&&t.value))return null;const s=()=>{const i=r.getBoundingClientRect(),o=n.getBoundingClientRect();(i.left<=o.left||i.right>=o.right)&&(t.value[0]=-t.value[0]),(i.top<=o.top||i.bottom>=o.bottom)&&(t.value[1]=-t.value[1]),r.style.left=+r.style.left.slice(0,-1)+t.value[0]+"%",r.style.top=+r.style.top.slice(0,-1)+t.value[1]+"%",e.value=requestAnimationFrame(s)};s()},e_=e=>{console.clear(),console.log(e)},Hc=(e,t)=>t>=e?null:Math.random()*((e-t)/e*100)+"%",n_=(e,t)=>()=>{t.style.top=Hc(e.offsetHeight,t.offsetHeight),t.style.left=Hc(e.offsetWidth,t.offsetWidth)},rf=(e,t)=>e===t?"/":`/${e}`,r_=(e,t)=>{e.classList.add(t)},nr=(e,t,n)=>{if(!["remove","add"].includes(n))throw new Error("Invalid action: "+n);try{e.classList[n](t)}catch(r){console.warn(r)}},qc=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)),Oo=(e,t=!1)=>{if(!e||!e.trim())return"not found";const r=e.split("/").pop().split(".");return t?r.join("."):r.slice(0,-1).join(".")},sf=()=>{"reload"in location?location.reload():window.location.href=window.location.href},zc=function(e,t,n){const r=e.lastIndexOf(".");return e.lastIndexOf(".")===-1?e+t:e.slice(0,r)+t+(n||e.slice(r))},s_={class:"left"},i_={class:"nav"},o_={class:"nav__list"},a_="Hello there! If you're reading this through the console, welcome to the world of my code!  If you have any questions, uncertainties, or suggestions for improving the code, I'm all ears! I'm still learning myself, but it's always more fun to learn together. ",Kc="stop",l_=me({__name:"App",setup(e){let t=be(0);e_(a_);const n=["home","works","skills","diploma","contacts"],r=(o,a)=>{if(t.value){const l=o.target;nr(l,Kc,a?"remove":"add"),l.innerText=a?String(t.value):Kc}},s=["microbe","paralysis","office plankton","chick","turtle","frog","cheetah","lightning","ninja","dragon","cybersportsman","game-zadrot","clicker?","hacker?","Fullstack Senior Frenzy Ninja Web Developer","Great Code Ninja and Master of the Secret Click: Opener of the Secret Pixel Chest and Conqueror of the Mysterious Button Chaos Maze","Just Cheater"],i=()=>{const o=t.value,a=o<=1?s[0]:o<=3?s[1]:o<=5?s[2]:o<=7?s[3]:o<=10?s[4]:o<=12||o<=15?s[5]:o<=18?s[6]:o<=22?s[7]:o<=25?s[8]:o<=30?s[9]:o<=35?s[10]:o<=40?s[11]:o<=50?s[12]:o<=65?s[13]:o<=80?s[14]:o<=100?s[15]:s[16];alert(`You scored:  ${o}.
You are ${a}.`),sf()};return(o,a)=>{const l=la("router-link"),c=la("router-view");return ft(),vt(Nt,null,[z("div",s_,[z("nav",i_,[z("ul",o_,[(ft(),vt(Nt,null,pr(n,u=>z("li",{key:u},[ot(l,{to:At(rf)(u,n[0]),class:"nav__link link mark"},{default:Te(()=>[Oe(Be(u),1)]),_:2},1032,["to"])])),64))])]),ot(l,{to:"/",class:"logo onHover",onMouseover:r,onMouseleave:a[0]||(a[0]=u=>r(u,!0))},{default:Te(()=>[Oe(Be(At(t)||"nA"),1)]),_:1})]),ot(c,null,{default:Te(({Component:u})=>[ot(gr,{name:"def"},{default:Te(()=>[(ft(),Qi(sl(u),{onScore:a[1]||(a[1]=h=>Wt(t)?t.value++:t++),onEndGame:i},null,32))]),_:2},1024)]),_:1})],64)}}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const rr=typeof window<"u";function c_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const dt=Object.assign;function Mo(e,t){const n={};for(const r in t){const s=t[r];n[r]=Ce(s)?s.map(e):e(s)}return n}const Gr=()=>{},Ce=Array.isArray,u_=/\/$/,h_=e=>e.replace(u_,"");function Lo(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=m_(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function f_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Wc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function d_(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&_r(t.matched[r],n.matched[s])&&of(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function _r(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function of(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!p_(e[n],t[n]))return!1;return!0}function p_(e,t){return Ce(e)?Gc(e,t):Ce(t)?Gc(t,e):e===t}function Gc(e,t){return Ce(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function m_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var us;(function(e){e.pop="pop",e.push="push"})(us||(us={}));var Qr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Qr||(Qr={}));function g_(e){if(!e)if(rr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),h_(e)}const __=/^[^#]+#/;function y_(e,t){return e.replace(__,"#")+t}function v_(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Zi=()=>({left:window.pageXOffset,top:window.pageYOffset});function E_(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=v_(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Qc(e,t){return(history.state?history.state.position-t:-1)+e}const ga=new Map;function w_(e,t){ga.set(e,t)}function T_(e){const t=ga.get(e);return ga.delete(e),t}let I_=()=>location.protocol+"//"+location.host;function af(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Wc(l,"")}return Wc(n,e)+r+s}function A_(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const m=af(e,location),E=n.value,_=t.value;let T=0;if(f){if(n.value=m,t.value=f,o&&o===E){o=null;return}T=_?f.position-_.position:0}else r(m);s.forEach(S=>{S(n.value,E,{delta:T,type:us.pop,direction:T?T>0?Qr.forward:Qr.back:Qr.unknown})})};function l(){o=n.value}function c(f){s.push(f);const m=()=>{const E=s.indexOf(f);E>-1&&s.splice(E,1)};return i.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(dt({},f.state,{scroll:Zi()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Yc(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Zi():null}}function R_(e){const{history:t,location:n}=window,r={value:af(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:I_()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function o(l,c){const u=dt({},t.state,Yc(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=dt({},s.value,t.state,{forward:l,scroll:Zi()});i(u.current,u,!0);const h=dt({},Yc(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function b_(e){e=g_(e);const t=R_(e),n=A_(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=dt({location:"",base:e,go:r,createHref:y_.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function S_(e){return typeof e=="string"||e&&typeof e=="object"}function lf(e){return typeof e=="string"||typeof e=="symbol"}const an={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},cf=Symbol("");var Xc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Xc||(Xc={}));function yr(e,t){return dt(new Error,{type:e,[cf]:!0},t)}function ze(e,t){return e instanceof Error&&cf in e&&(t==null||!!(e.type&t))}const Jc="[^/]+?",C_={sensitive:!1,strict:!1,start:!0,end:!0},P_=/[.+*?^${}()[\]/\\]/g;function D_(e,t){const n=dt({},C_,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(P_,"\\$&"),m+=40;else if(f.type===1){const{value:E,repeatable:_,optional:T,regexp:S}=f;i.push({name:E,repeatable:_,optional:T});const C=S||Jc;if(C!==Jc){m+=10;try{new RegExp(`(${C})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${E}" (${C}): `+k.message)}}let B=_?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(B=T&&c.length<2?`(?:/${B})`:"/"+B),T&&(B+="?"),s+=B,m+=20,T&&(m+=-8),_&&(m+=-20),C===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",E=i[f-1];h[E.name]=m&&E.repeatable?m.split("/"):m}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:E,repeatable:_,optional:T}=m,S=E in c?c[E]:"";if(Ce(S)&&!_)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const C=Ce(S)?S.join("/"):S;if(!C)if(T)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${E}"`);u+=C}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function x_(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function V_(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=x_(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Zc(r))return 1;if(Zc(s))return-1}return s.length-r.length}function Zc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const k_={type:0,value:""},N_=/[a-zA-Z0-9_]/;function O_(e){if(!e)return[[]];if(e==="/")return[[k_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:N_.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function M_(e,t,n){const r=D_(O_(e.path),n),s=dt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function L_(e,t){const n=[],r=new Map;t=nu({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,f){const m=!f,E=F_(u);E.aliasOf=f&&f.record;const _=nu(t,u),T=[E];if("alias"in u){const B=typeof u.alias=="string"?[u.alias]:u.alias;for(const k of B)T.push(dt({},E,{components:f?f.record.components:E.components,path:k,aliasOf:f?f.record:E}))}let S,C;for(const B of T){const{path:k}=B;if(h&&k[0]!=="/"){const Z=h.record.path,lt=Z[Z.length-1]==="/"?"":"/";B.path=h.record.path+(k&&lt+k)}if(S=M_(B,h,_),f?f.alias.push(S):(C=C||S,C!==S&&C.alias.push(S),m&&u.name&&!eu(S)&&o(u.name)),E.children){const Z=E.children;for(let lt=0;lt<Z.length;lt++)i(Z[lt],S,f&&f.children[lt])}f=f||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&l(S)}return C?()=>{o(C)}:Gr}function o(u){if(lf(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&V_(u,n[h])>=0&&(u.record.path!==n[h].record.path||!uf(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!eu(u)&&r.set(u.record.name,u)}function c(u,h){let f,m={},E,_;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw yr(1,{location:u});_=f.record.name,m=dt(tu(h.params,f.keys.filter(C=>!C.optional).map(C=>C.name)),u.params&&tu(u.params,f.keys.map(C=>C.name))),E=f.stringify(m)}else if("path"in u)E=u.path,f=n.find(C=>C.re.test(E)),f&&(m=f.parse(E),_=f.record.name);else{if(f=h.name?r.get(h.name):n.find(C=>C.re.test(h.path)),!f)throw yr(1,{location:u,currentLocation:h});_=f.record.name,m=dt({},h.params,u.params),E=f.stringify(m)}const T=[];let S=f;for(;S;)T.unshift(S.record),S=S.parent;return{name:_,path:E,params:m,matched:T,meta:$_(T)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function tu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function F_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:B_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function B_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function eu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function $_(e){return e.reduce((t,n)=>dt(t,n.meta),{})}function nu(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function uf(e,t){return t.children.some(n=>n===e||uf(e,n))}const hf=/#/g,U_=/&/g,j_=/\//g,H_=/=/g,q_=/\?/g,ff=/\+/g,z_=/%5B/g,K_=/%5D/g,df=/%5E/g,W_=/%60/g,pf=/%7B/g,G_=/%7C/g,mf=/%7D/g,Q_=/%20/g;function hl(e){return encodeURI(""+e).replace(G_,"|").replace(z_,"[").replace(K_,"]")}function Y_(e){return hl(e).replace(pf,"{").replace(mf,"}").replace(df,"^")}function _a(e){return hl(e).replace(ff,"%2B").replace(Q_,"+").replace(hf,"%23").replace(U_,"%26").replace(W_,"`").replace(pf,"{").replace(mf,"}").replace(df,"^")}function X_(e){return _a(e).replace(H_,"%3D")}function J_(e){return hl(e).replace(hf,"%23").replace(q_,"%3F")}function Z_(e){return e==null?"":J_(e).replace(j_,"%2F")}function _i(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ty(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(ff," "),o=i.indexOf("="),a=_i(o<0?i:i.slice(0,o)),l=o<0?null:_i(i.slice(o+1));if(a in t){let c=t[a];Ce(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function ru(e){let t="";for(let n in e){const r=e[n];if(n=X_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ce(r)?r.map(i=>i&&_a(i)):[r&&_a(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function ey(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ce(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const ny=Symbol(""),su=Symbol(""),fl=Symbol(""),gf=Symbol(""),ya=Symbol("");function Lr(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function un(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(yr(4,{from:n,to:t})):h instanceof Error?a(h):S_(h)?a(yr(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},c=e.call(r&&r.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Fo(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(ry(a)){const c=(a.__vccOpts||a)[t];c&&s.push(un(c,n,r,i,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=c_(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&un(f,n,r,i,o)()}))}}return s}function ry(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function iu(e){const t=Qe(fl),n=Qe(gf),r=Ee(()=>t.resolve(At(e.to))),s=Ee(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(_r.bind(null,u));if(f>-1)return f;const m=ou(l[c-2]);return c>1&&ou(u)===m&&h[h.length-1].path!==m?h.findIndex(_r.bind(null,l[c-2])):f}),i=Ee(()=>s.value>-1&&ay(n.params,r.value.params)),o=Ee(()=>s.value>-1&&s.value===n.matched.length-1&&of(n.params,r.value.params));function a(l={}){return oy(l)?t[At(e.replace)?"replace":"push"](At(e.to)).catch(Gr):Promise.resolve()}return{route:r,href:Ee(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const sy=me({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:iu,setup(e,{slots:t}){const n=Hi(iu(e)),{options:r}=Qe(fl),s=Ee(()=>({[au(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[au(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:cl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),iy=sy;function oy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ay(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ce(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function ou(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const au=(e,t,n)=>e??t??n,ly=me({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Qe(ya),s=Ee(()=>e.route||r.value),i=Qe(su,0),o=Ee(()=>{let c=At(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ee(()=>s.value.matched[o.value]);oi(su,Ee(()=>o.value+1)),oi(ny,a),oi(ya,s);const l=be();return si(()=>[l.value,a.value,e.name],([c,u,h],[f,m,E])=>{u&&(u.instances[h]=c,m&&m!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!_r(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return lu(n.default,{Component:f,route:c});const m=h.props[u],E=m?m===!0?c.params:typeof m=="function"?m(c):m:null,T=cl(f,dt({},E,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return lu(n.default,{Component:T,route:c})||T}}});function lu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const cy=ly;function uy(e){const t=L_(e.routes,e),n=e.parseQuery||ty,r=e.stringifyQuery||ru,s=e.history,i=Lr(),o=Lr(),a=Lr(),l=dm(an);let c=an;rr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Mo.bind(null,v=>""+v),h=Mo.bind(null,Z_),f=Mo.bind(null,_i);function m(v,L){let x,$;return lf(v)?(x=t.getRecordMatcher(v),$=L):$=v,t.addRoute($,x)}function E(v){const L=t.getRecordMatcher(v);L&&t.removeRoute(L)}function _(){return t.getRoutes().map(v=>v.record)}function T(v){return!!t.getRecordMatcher(v)}function S(v,L){if(L=dt({},L||l.value),typeof v=="string"){const g=Lo(n,v,L.path),y=t.resolve({path:g.path},L),w=s.createHref(g.fullPath);return dt(g,y,{params:f(y.params),hash:_i(g.hash),redirectedFrom:void 0,href:w})}let x;if("path"in v)x=dt({},v,{path:Lo(n,v.path,L.path).path});else{const g=dt({},v.params);for(const y in g)g[y]==null&&delete g[y];x=dt({},v,{params:h(g)}),L.params=h(L.params)}const $=t.resolve(x,L),ht=v.hash||"";$.params=u(f($.params));const d=f_(r,dt({},v,{hash:Y_(ht),path:$.path})),p=s.createHref(d);return dt({fullPath:d,hash:ht,query:r===ru?ey(v.query):v.query||{}},$,{redirectedFrom:void 0,href:p})}function C(v){return typeof v=="string"?Lo(n,v,l.value.path):dt({},v)}function B(v,L){if(c!==v)return yr(8,{from:L,to:v})}function k(v){return Rt(v)}function Z(v){return k(dt(C(v),{replace:!0}))}function lt(v){const L=v.matched[v.matched.length-1];if(L&&L.redirect){const{redirect:x}=L;let $=typeof x=="function"?x(v):x;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=C($):{path:$},$.params={}),dt({query:v.query,hash:v.hash,params:"path"in $?{}:v.params},$)}}function Rt(v,L){const x=c=S(v),$=l.value,ht=v.state,d=v.force,p=v.replace===!0,g=lt(x);if(g)return Rt(dt(C(g),{state:typeof g=="object"?dt({},ht,g.state):ht,force:d,replace:p}),L||x);const y=x;y.redirectedFrom=L;let w;return!d&&d_(r,$,x)&&(w=yr(16,{to:y,from:$}),Pe($,$,!0,!1)),(w?Promise.resolve(w):nt(y,$)).catch(A=>ze(A)?ze(A,2)?A:nn(A):ut(A,y,$)).then(A=>{if(A){if(ze(A,2))return Rt(dt({replace:p},C(A.to),{state:typeof A.to=="object"?dt({},ht,A.to.state):ht,force:d}),L||y)}else A=M(y,$,!0,p,ht);return Y(y,$,A),A})}function G(v,L){const x=B(v,L);return x?Promise.reject(x):Promise.resolve()}function ct(v){const L=Jn.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(v):v()}function nt(v,L){let x;const[$,ht,d]=hy(v,L);x=Fo($.reverse(),"beforeRouteLeave",v,L);for(const g of $)g.leaveGuards.forEach(y=>{x.push(un(y,v,L))});const p=G.bind(null,v,L);return x.push(p),Qt(x).then(()=>{x=[];for(const g of i.list())x.push(un(g,v,L));return x.push(p),Qt(x)}).then(()=>{x=Fo(ht,"beforeRouteUpdate",v,L);for(const g of ht)g.updateGuards.forEach(y=>{x.push(un(y,v,L))});return x.push(p),Qt(x)}).then(()=>{x=[];for(const g of d)if(g.beforeEnter)if(Ce(g.beforeEnter))for(const y of g.beforeEnter)x.push(un(y,v,L));else x.push(un(g.beforeEnter,v,L));return x.push(p),Qt(x)}).then(()=>(v.matched.forEach(g=>g.enterCallbacks={}),x=Fo(d,"beforeRouteEnter",v,L),x.push(p),Qt(x))).then(()=>{x=[];for(const g of o.list())x.push(un(g,v,L));return x.push(p),Qt(x)}).catch(g=>ze(g,8)?g:Promise.reject(g))}function Y(v,L,x){a.list().forEach($=>ct(()=>$(v,L,x)))}function M(v,L,x,$,ht){const d=B(v,L);if(d)return d;const p=L===an,g=rr?history.state:{};x&&($||p?s.replace(v.fullPath,dt({scroll:p&&g&&g.scroll},ht)):s.push(v.fullPath,ht)),l.value=v,Pe(v,L,x,p),nn()}let it;function kt(){it||(it=s.listen((v,L,x)=>{if(!$s.listening)return;const $=S(v),ht=lt($);if(ht){Rt(dt(ht,{replace:!0}),$).catch(Gr);return}c=$;const d=l.value;rr&&w_(Qc(d.fullPath,x.delta),Zi()),nt($,d).catch(p=>ze(p,12)?p:ze(p,2)?(Rt(p.to,$).then(g=>{ze(g,20)&&!x.delta&&x.type===us.pop&&s.go(-1,!1)}).catch(Gr),Promise.reject()):(x.delta&&s.go(-x.delta,!1),ut(p,$,d))).then(p=>{p=p||M($,d,!1),p&&(x.delta&&!ze(p,8)?s.go(-x.delta,!1):x.type===us.pop&&ze(p,20)&&s.go(-1,!1)),Y($,d,p)}).catch(Gr)}))}let He=Lr(),Pt=Lr(),gt;function ut(v,L,x){nn(v);const $=Pt.list();return $.length?$.forEach(ht=>ht(v,L,x)):console.error(v),Promise.reject(v)}function qe(){return gt&&l.value!==an?Promise.resolve():new Promise((v,L)=>{He.add([v,L])})}function nn(v){return gt||(gt=!v,kt(),He.list().forEach(([L,x])=>v?x(v):L()),He.reset()),v}function Pe(v,L,x,$){const{scrollBehavior:ht}=e;if(!rr||!ht)return Promise.resolve();const d=!x&&T_(Qc(v.fullPath,0))||($||!x)&&history.state&&history.state.scroll||null;return Ch().then(()=>ht(v,L,d)).then(p=>p&&E_(p)).catch(p=>ut(p,v,L))}const ie=v=>s.go(v);let Xn;const Jn=new Set,$s={currentRoute:l,listening:!0,addRoute:m,removeRoute:E,hasRoute:T,getRoutes:_,resolve:S,options:e,push:k,replace:Z,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Pt.add,isReady:qe,install(v){const L=this;v.component("RouterLink",iy),v.component("RouterView",cy),v.config.globalProperties.$router=L,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>At(l)}),rr&&!Xn&&l.value===an&&(Xn=!0,k(s.location).catch(ht=>{}));const x={};for(const ht in an)Object.defineProperty(x,ht,{get:()=>l.value[ht],enumerable:!0});v.provide(fl,L),v.provide(gf,vh(x)),v.provide(ya,l);const $=v.unmount;Jn.add(v),v.unmount=function(){Jn.delete(v),Jn.size<1&&(c=an,it&&it(),it=null,l.value=an,Xn=!1,gt=!1),$()}}};function Qt(v){return v.reduce((L,x)=>L.then(()=>ct(x)),Promise.resolve())}return $s}function hy(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>_r(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>_r(c,l))||s.push(l))}return[n,r,s]}const fy="/naweb/assets/imgs/self-c4c68408.png",dy={key:0,class:"fullName mark animTxt"},py={key:1,class:"address mark animTxtFast",href:"https://www.google.com/maps?q=41.33663344870764,69.17545009391947",target:"_blank"},my=["href"],gy=z("a",{href:"https://www.facebook.com/profile.php?id=100051004773437&mibextid=9R9pXO",target:"_blank",class:"mark animTxtSlow"},"Facebook",-1),_y=z("a",{href:"https://x.com/ArnoldSeam68149?t=Vyi9bkTcvZRhzP5L7M44_A&s=09",class:"mark animTxtSlow",target:"_blank"},"Twitter",-1),yy=z("a",{href:"https://t.me/na_web",target:"_blank",class:"mark animTxtSlow"},"Telegram",-1),vy=z("a",{href:"https://vk.com/na_web",target:"_blank",class:"mark animTxtSlow"},"VK",-1),Ey=z("a",{href:"https://github.com/Arnold-Seaman",target:"_blank",class:"mark animTxtSlow"},"GitHub",-1),_f=me({__name:"ContactsComponent",props:["full","main"],setup(e){const t=e,n={title:"Welcome to our company: HugMeInc",msg:"If I don't respond to your message within 23 hours, 59 minutes, and 59 seconds, please give me a call :)"};return en(()=>{Ji()}),(r,s)=>(ft(),vt(Nt,null,[t.full?(ft(),vt("p",dy,"Sd Nizomov Abdukhalim")):dn("",!0),t.full?(ft(),vt("a",py,"7 Yakub Ziyaev Street, Jararyk Microdistrict, Shaykhantakhur District, Tashkent 100068")):dn("",!0),z("a",{href:`mailto:abduhalimqwerty@gmail.com?subject=${encodeURIComponent(n.title)}&body=${encodeURIComponent(n.msg)}`,class:Fe(["email mark animTxt",{blend_multiply:e.main}])},"abduhalimqwerty@gmail.com",10,my),z("a",{href:"tel:+998935204061",class:Fe(["phone mark animTxt",{blend_multiply:e.main}])},"+998 93 520 4061",2),z("p",{class:Fe(["social",{blend_multiply:e.main}])},[gy,Oe(" | "),_y,Oe(" | "),yy,Oe(" | "),vy,Oe(" | "),Ey],2)],64))}}),yf="/naweb/assets/imgs/diploma-44d43249.svg",wy=["tabindex"],Ty=["href"],vr=me({__name:"BlockComponent",props:["title","info","desc","sv","main","imgOn","smallView"],emits:["imgClk","showFormTrue"],setup(e,{emit:t}){const n=e,r=t;en(()=>{Ji()});const s=()=>n.smallView?r("showFormTrue"):"";return(i,o)=>(ft(),vt(Nt,null,[(ft(),Qi(sl(n.main?"h1":"h2"),{class:"right__title animTxt"},{default:Te(()=>[Oe(Be(n.title),1)]),_:1})),z("p",{class:Fe(["right__info animTxtFast",{mark:e.smallView,blend_diff:e.main}]),onClick:o[0]||(o[0]=a=>s()),onKeypress:o[1]||(o[1]=nf(a=>s(),["enter"])),tabindex:e.smallView?0:-1},Be(n.info),43,wy),n.imgOn?(ft(),vt("img",{key:0,src:yf,alt:"",class:"diploma__img wh100",onClick:o[2]||(o[2]=a=>i.$emit("imgClk")),tabindex:"0"})):dn("",!0),n.desc?(ft(),vt("p",{key:1,class:Fe(["right__desc",{blend_diff:e.main}])},[Oe(Be(n.desc+`${n.sv?", ":""}`)+" ",1),ot(gr,{name:"sv"},{default:Te(()=>[n.sv?(ft(),vt("a",{key:0,class:"desc__sv mark",tabindex:"0",href:At(ci)("/naweb/assets/docs/Nizomov Abduhalim - Web Frontend Development - CV.docx"),download:"CV.docx"},"Download My CV",8,Ty)):dn("",!0)]),_:1})],2)):dn("",!0)],64))}}),Iy={class:"container"},Ay={class:"right home"},Ry={class:"right__block"},by={class:"right__contact"},Sy=z("img",{src:fy,alt:"developers_picture",class:"home__selfImg self"},null,-1),Cy=me({__name:"HomeView",setup(e){const t={title:"Nizomov Abdukhalim",info:"User Experience Web Developer",desc:"A User Experience developer specialized in web development, web developer with 1.5 years in Vue.js (Composition/Option API), Vuex/Pinia, Vue Router, JavaScript/TypeScript, Sass/SCSS/CSS, HTML. Solves problems through sleek, responsive designs. Studying & living in Tashkent, Uzbekistan"};return(n,r)=>(ft(),vt("div",Iy,[z("div",Ay,[z("div",Ry,[ot(vr,{title:t.title,info:t.info,desc:t.desc,sv:!0,main:!0},null,8,["title","info","desc"])]),z("address",by,[ot(_f,{main:!0})])]),Sy]))}}),Py="/naweb/assets/imgs/scroll-3b176fad.gif",Dy="/naweb/assets/imgs/scrollM-adcf7553.gif",xy="/naweb/assets/imgs/tabing-84dbec1e.gif",Vy="/naweb/assets/imgs/tap-0b40d3c4.gif",ky={class:"right works"},Ny=["onClick"],Oy=["srcset","alt"],My=["srcset","alt"],Ly=["src","alt"],Fy={class:"work__content wh100"},By={class:"work__type"},$y={class:"work__title"},Uy=ug('<div class="work__content work__content-actions wh100" style="display:none;"><div class="work__acts"><img src="'+Py+'" alt="scroll-gesture-image" class="actions__img" loading="lazy"><img src="'+Dy+'" alt="scroll-mouse-image" class="actions__img" loading="lazy"><img src="'+xy+'" alt="tab-clicking-image" class="actions__img" loading="lazy"><img src="'+Vy+'" alt="tap-clicking-image" class="actions__img" loading="lazy"></div><p class="work__type">Accessible</p></div>',1),jy=me({__name:"WorksView",setup(e){const t=[{title:"CinePhile landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/cinephile.png",src:"#/still-coding"},{title:"Vue Cinemas landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/vue-cinemas.png",src:"https://nawebcvc.github.io/vue-cinemas/"},{title:"Gericht landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/gericht.png",src:"https://github.com/nawebcvc/gericht"},{title:"Totembo landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/totembo.png",src:"https://nawebcvc.github.io/totembo/"},{title:"Nike landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/nike.png",src:"https://nawebcvc.github.io/nike/"},{title:"Grayson landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/grayson.png",src:"https://nawebcvc.github.io/grayson/"},{title:"GoTrip landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/goTrip.png",src:"https://nawebcvc.github.io/gotrip/"},{title:"Boulevard Market landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/boulevard-market.png",src:"https://nawebcvc.github.io/boulevard-market/"},{title:"The News Web landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/the-news.png",src:"https://nawebcvc.github.io/the-news-web/"},{title:"Silver House landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/silver-house.png",src:"https://nawebcvc.github.io/silver-house/"},{title:"About MySelf landing page",type:"Web template",imgSrc:"/naweb/assets/imgs/previews/about-me.png",src:"https://nawebcvc.github.io/about-me/"},{title:"WB Chat",type:"Web project",imgSrc:"/naweb/assets/imgs/previews/chatik.png",src:"https://github.com/nawebcvc/chatik"},{title:"Vue Weather",type:"Web mini project",imgSrc:"/naweb/assets/imgs/previews/vue-weather.png",src:"https://nawebcvc.github.io/vue-weather/"},{title:"ToDo List",type:"Web mini project",imgSrc:"/naweb/assets/imgs/previews/todol.png",src:"https://github.com/nawebcvc/todolist_withLib"},{title:"The Earth",type:"Web mini project",imgSrc:"/naweb/assets/imgs/previews/the-earth.png",src:"https://nawebcvc.github.io/earth/"},{title:"Chat Vue",type:"Web mini project",imgSrc:"/naweb/assets/imgs/previews/vue-chat.png",src:"https://nawebcvc.github.io/VueChat/"},{title:"Food100",type:"Web mini project",imgSrc:"/naweb/assets/imgs/previews/food100.png",src:"https://nawebcvc.github.io/food100/"},{title:"The New Years Eve",type:"Web mini project",imgSrc:"/naweb/assets/imgs/previews/the-new-years-eve.png",src:"https://nawebcvc.github.io/new-years-eve/"},{title:"The Clock",type:"Web mini project",imgSrc:"/naweb/assets/imgs/previews/the-clock.png",src:"https://nawebcvc.github.io/clock-stopwatch/"},{title:"Cars Carousel",type:"Web mini project",imgSrc:"/naweb/assets/imgs/previews/bmw.png",src:"https://nawebcvc.github.io/bmw-carousel/"}],n=be([]);let r=0;function s(o,a){return o.reduce((l,c,u)=>{const h=u%a;return l[h]=(l[h]||[]).concat(c),l},[])}function i(){const o=cs(768)?6:5;o!==r&&(r=o,n.value=s(t,r=o))}return i(),en(()=>{const o=document.querySelectorAll(".works__block"),a="work-active";let l=0;const c=(_,T)=>{const S=_.querySelector(`.${a} `);if(S){const C=T?S.previousElementSibling:S.nextElementSibling;C&&(S.classList.remove(a),C.classList.add(a))}u(o,6e3,1e4)},u=(_,T,S)=>{l=setTimeout(()=>{c(_[qc(0,_.length)]),_&&a&&_.forEach(C=>{C.getElementsByClassName(a)[0]||r_(C.children[0],a)})},qc(T,S))},h=()=>u(o,6e3,1e4);document.addEventListener("DOMContentLoaded",h);const f=(_,T)=>{if(clearTimeout(l),"keyCode"in _&&_.keyCode===9)c(T);else if("deltaY"in _)c(T,_.deltaY<0);else if("changedTouches"in _){const C=_.changedTouches[0].clientY;let B=!1;const k=lt=>{lt.changedTouches[0].clientY>C?B=!0:B=!1,T.removeEventListener("touchmove",k)};T.addEventListener("touchmove",k);const Z=()=>{c(T,B),T.removeEventListener("touchend",Z)};T.addEventListener("touchend",Z)}};o.forEach(_=>{_.addEventListener("wheel",T=>f(T,_)),_.addEventListener("keydown",T=>f(T,_)),_.addEventListener("touchstart",T=>f(T,_))});let m=0;const E=()=>{const _="work__content-actions",T=document.querySelector("."+_),S=T.innerHTML,C=document.querySelector(".work__content"),B=C.innerHTML;T.remove(),C.innerHTML=S,C.classList.add(_),m=setTimeout(()=>{C.innerHTML=B,C.classList.remove(_)},4e3)};m=sessionStorage.getItem("actionsShowed")==="true"?0:(()=>(sessionStorage.setItem("actionsShowed","true"),setTimeout(function(){E()},3e3)))(),window.addEventListener("resize",i),Cr(()=>{window.removeEventListener("resize",i),document.removeEventListener("DOMContentLoaded",h),clearTimeout(l),clearTimeout(m)})}),(o,a)=>(ft(),vt("ul",ky,[(ft(!0),vt(Nt,null,pr(n.value,(l,c)=>(ft(),vt("li",{class:"works__block",key:c},[(ft(!0),vt(Nt,null,pr(l,(u,h)=>(ft(),vt("article",{class:Fe({work:u,"work-active":h===0}),key:h,onClick:f=>At(Jg)(u.src),tabindex:"0"},[z("picture",null,[z("source",{media:"(max-width: 768px)",srcset:At(ci)(u.imgSrc?At(zc)(u.imgSrc,"_verySmall",".webp"):"/naweb/assets/imgs/404.png"),alt:u.imgSrc?At(Oo)(u.imgSrc):"image not found",class:"work__preview wh100"},null,8,Oy),z("source",{media:"(max-width: 2200px)",srcset:At(ci)(u.imgSrc?At(zc)(u.imgSrc,"_small",".webp"):"/naweb/assets/imgs/404.png"),alt:u.imgSrc?At(Oo)(u.imgSrc):"image not found",class:"work__preview wh100"},null,8,My),z("img",{media:"(min-width: 2200px)",src:At(ci)(u.imgSrc??"/naweb/assets/imgs/404.png"),alt:u.imgSrc?At(Oo)(u.imgSrc):"image not found",class:"work__preview wh100"},null,8,Ly)]),z("div",Fy,[z("p",By,Be(u.type),1),z("p",$y,Be(u.title??"web development"),1)])],10,Ny))),128))]))),128)),Uy]))}}),Hy={class:"container"},qy={class:"right skills"},zy={class:"skills__block"},Ky={class:"skills__block-container items-inline"},Wy={class:"skills__list"},Gy={class:"skill__name"},Qy={class:"skill__graph"},Yy=me({__name:"SkillView",setup(e){const t={title:"SKILLS",info:"... that i mastered",desc:[["html",60],["vue",45],["css",55],["vuex/pinia",55],["js",50],["vue router",60],["ts",40],["nuxt",25]]};return en(()=>{Ji()}),(n,r)=>(ft(),vt("div",Hy,[z("div",qy,[z("div",zy,[z("div",Ky,[ot(vr,{title:t.title,info:t.info},null,8,["title","info"])]),z("ul",Wy,[(ft(!0),vt(Nt,null,pr(t.desc,(s,i)=>(ft(),vt("li",{class:"skill",key:i,tabindex:"0"},[z("p",Gy,Be(s[0]),1),z("div",Qy,[z("div",{class:"graph",style:ns(`left: calc(${s[1]}% - 2%)`)},Be(s[1])+"%",5),z("div",{class:"graph graph__dot",style:ns(`left: ${s[1]}%`)},null,4)])]))),128))])])])]))}}),Xy={class:"container"},Jy={class:"right__block"},Zy=me({__name:"DiplomaView",setup(e){const t=be(!1),n=be(!1),r={title:"PROWEB",info:"... recommends me",desc:'"We are pleased to recommend Abduhalim Nizomov as an experienced web developer. Abduhalim successfully completed the 10-month "Web Programming" course with distinction. He demonstrated an outstanding ability to quickly grasp new material, and his successful completion of 80 lessons, each lasting 90 minutes, speaks to his systematic and effective learning capabilities. His diligence, responsibility, and commitment to excellence make him a valuable asset for any project or team."'};let s;const i=()=>cs(768,n);en(()=>{s=o(),window.addEventListener("resize",i),cs(768,n)}),Cr(()=>{window.removeEventListener("resize",i)});const o=()=>{const l=document.querySelector(".diploma__img"),c=15;return u=>{const{clientX:h,clientY:f}=u;l.style.transform=`rotateX(${(f-window.innerHeight/2)/(window.innerHeight/2)*c}deg) rotateY(${(window.innerWidth/2-h)/(window.innerWidth/2)*c}deg)`}},a=()=>{alert("Included in my CV"),t.value=!0};return(l,c)=>(ft(),vt("div",Xy,[z("div",{class:"right diploma",onMousemove:c[2]||(c[2]=(...u)=>At(s)&&At(s)(...u))},[z("div",Jy,[ot(vr,{title:r.title,info:r.info,desc:r.desc,onImgClk:c[0]||(c[0]=u=>a()),imgOn:n.value,sv:t.value},null,8,["title","info","desc","imgOn","sv"])]),n.value?dn("",!0):(ft(),vt("img",{key:0,src:yf,alt:"",class:"diploma__img wh100",onClick:c[1]||(c[1]=u=>a()),tabindex:"0"}))],32)]))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},tv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Ef={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new ev;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ev extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nv=function(e){const t=vf(e);return Ef.encodeByteArray(t,!0)},yi=function(e){return nv(e).replace(/\./g,"")},rv=function(e){try{return Ef.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=()=>sv().__FIREBASE_DEFAULTS__,ov=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},av=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&rv(e[1]);return t&&JSON.parse(t)},dl=()=>{try{return iv()||ov()||av()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lv=e=>{var t,n;return(n=(t=dl())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},cv=e=>{const t=lv(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},wf=()=>{var e;return(e=dl())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[yi(JSON.stringify(n)),yi(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fv(){var e;const t=(e=dl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dv(){return!fv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tf(){try{return typeof indexedDB=="object"}catch{return!1}}function pv(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="FirebaseError";class Pr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=mv,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?gv(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pr(s,a,r)}}function gv(e,t){return e.replace(_v,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const _v=/\{\$([^}]+)}/g;function va(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(cu(i)&&cu(o)){if(!va(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function cu(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e){return e&&e._delegate?e._delegate:e}class fs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new uv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ev(t))try{this.getOrInitializeService({instanceIdentifier:Dn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Dn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dn){return this.instances.has(t)}getOptions(t=Dn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Dn){return this.component?this.component.multipleInstances?t:Dn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vv(e){return e===Dn?void 0:e}function Ev(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yv(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(st||(st={}));const Tv={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},Iv=st.INFO,Av={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},Rv=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Av[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Af{constructor(t){this.name=t,this._logLevel=Iv,this._logHandler=Rv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Tv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const bv=(e,t)=>t.some(n=>e instanceof n);let uu,hu;function Sv(){return uu||(uu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cv(){return hu||(hu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rf=new WeakMap,Ea=new WeakMap,bf=new WeakMap,Bo=new WeakMap,pl=new WeakMap;function Pv(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(pn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Rf.set(n,e)}).catch(()=>{}),pl.set(t,e),t}function Dv(e){if(Ea.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ea.set(e,t)}let wa={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ea.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function xv(e){wa=e(wa)}function Vv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call($o(this),t,...n);return bf.set(r,t.sort?t.sort():[t]),pn(r)}:Cv().includes(e)?function(...t){return e.apply($o(this),t),pn(Rf.get(this))}:function(...t){return pn(e.apply($o(this),t))}}function kv(e){return typeof e=="function"?Vv(e):(e instanceof IDBTransaction&&Dv(e),bv(e,Sv())?new Proxy(e,wa):e)}function pn(e){if(e instanceof IDBRequest)return Pv(e);if(Bo.has(e))return Bo.get(e);const t=kv(e);return t!==e&&(Bo.set(e,t),pl.set(t,e)),t}const $o=e=>pl.get(e);function Nv(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=pn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(pn(o.result),l.oldVersion,l.newVersion,pn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Ov=["get","getKey","getAll","getAllKeys","count"],Mv=["put","add","delete","clear"],Uo=new Map;function fu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Uo.get(t))return Uo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Mv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ov.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Uo.set(t,i),i}xv(e=>({...e,get:(t,n,r)=>fu(t,n)||e.get(t,n,r),has:(t,n)=>!!fu(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Fv(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ta="@firebase/app",du="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new Af("@firebase/app"),Bv="@firebase/app-compat",$v="@firebase/analytics-compat",Uv="@firebase/analytics",jv="@firebase/app-check-compat",Hv="@firebase/app-check",qv="@firebase/auth",zv="@firebase/auth-compat",Kv="@firebase/database",Wv="@firebase/database-compat",Gv="@firebase/functions",Qv="@firebase/functions-compat",Yv="@firebase/installations",Xv="@firebase/installations-compat",Jv="@firebase/messaging",Zv="@firebase/messaging-compat",tE="@firebase/performance",eE="@firebase/performance-compat",nE="@firebase/remote-config",rE="@firebase/remote-config-compat",sE="@firebase/storage",iE="@firebase/storage-compat",oE="@firebase/firestore",aE="@firebase/firestore-compat",lE="firebase",cE="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]",uE={[Ta]:"fire-core",[Bv]:"fire-core-compat",[Uv]:"fire-analytics",[$v]:"fire-analytics-compat",[Hv]:"fire-app-check",[jv]:"fire-app-check-compat",[qv]:"fire-auth",[zv]:"fire-auth-compat",[Kv]:"fire-rtdb",[Wv]:"fire-rtdb-compat",[Gv]:"fire-fn",[Qv]:"fire-fn-compat",[Yv]:"fire-iid",[Xv]:"fire-iid-compat",[Jv]:"fire-fcm",[Zv]:"fire-fcm-compat",[tE]:"fire-perf",[eE]:"fire-perf-compat",[nE]:"fire-rc",[rE]:"fire-rc-compat",[sE]:"fire-gcs",[iE]:"fire-gcs-compat",[oE]:"fire-fst",[aE]:"fire-fst-compat","fire-js":"fire-js",[lE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Map,Aa=new Map;function hE(e,t){try{e.container.addComponent(t)}catch(n){zn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wi(e){const t=e.name;if(Aa.has(t))return zn.debug(`There were multiple attempts to register component ${t}.`),!1;Aa.set(t,e);for(const n of Ei.values())hE(n,e);return!0}function fE(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mn=new If("app","Firebase",dE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=cE;function Sf(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ia,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw mn.create("bad-app-name",{appName:String(s)});if(n||(n=wf()),!n)throw mn.create("no-options");const i=Ei.get(s);if(i){if(va(n,i.options)&&va(r,i.config))return i;throw mn.create("duplicate-app",{appName:s})}const o=new wv(s);for(const l of Aa.values())o.addComponent(l);const a=new pE(n,r,o);return Ei.set(s,a),a}function gE(e=Ia){const t=Ei.get(e);if(!t&&e===Ia&&wf())return Sf();if(!t)throw mn.create("no-app",{appName:e});return t}function ur(e,t,n){var r;let s=(r=uE[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zn.warn(a.join(" "));return}wi(new fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firebase-heartbeat-database",yE=1,ds="firebase-heartbeat-store";let jo=null;function Cf(){return jo||(jo=Nv(_E,yE,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ds)}catch(n){console.warn(n)}}}}).catch(e=>{throw mn.create("idb-open",{originalErrorMessage:e.message})})),jo}async function vE(e){try{const n=(await Cf()).transaction(ds),r=await n.objectStore(ds).get(Pf(e));return await n.done,r}catch(t){if(t instanceof Pr)zn.warn(t.message);else{const n=mn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zn.warn(n.message)}}}async function pu(e,t){try{const r=(await Cf()).transaction(ds,"readwrite");await r.objectStore(ds).put(t,Pf(e)),await r.done}catch(n){if(n instanceof Pr)zn.warn(n.message);else{const r=mn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(r.message)}}}function Pf(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=1024,wE=30*24*60*60*1e3;class TE{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mu();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=wE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mu(),{heartbeatsToSend:r,unsentEntries:s}=IE(this._heartbeatsCache.heartbeats),i=yi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function mu(){return new Date().toISOString().substring(0,10)}function IE(e,t=EE){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),gu(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),gu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tf()?pv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return pu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return pu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function gu(e){return yi(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e){wi(new fs("platform-logger",t=>new Lv(t),"PRIVATE")),wi(new fs("heartbeat",t=>new TE(t),"PRIVATE")),ur(Ta,du,e),ur(Ta,du,"esm2017"),ur("fire-js","")}RE("");var bE="firebase",SE="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(bE,SE,"app");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,ml=ml||{},K=CE||self;function to(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Cs(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function PE(e){return Object.prototype.hasOwnProperty.call(e,Ho)&&e[Ho]||(e[Ho]=++DE)}var Ho="closure_uid_"+(1e9*Math.random()>>>0),DE=0;function xE(e,t,n){return e.call.apply(e.bind,arguments)}function VE(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function te(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?te=xE:te=VE,te.apply(null,arguments)}function Gs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function jt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function An(){this.s=this.s,this.o=this.o}var kE=0;An.prototype.s=!1;An.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kE!=0)&&PE(this)};An.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Df=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function gl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function _u(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(to(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let o=0;o<i;o++)e[s+o]=r[o]}else e.push(r)}}function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var NE=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};K.addEventListener("test",n,t),K.removeEventListener("test",n,t)}catch{}return e}();function ps(e){return/^[\s\xa0]*$/.test(e)}function eo(){var e=K.navigator;return e&&(e=e.userAgent)?e:""}function Ne(e){return eo().indexOf(e)!=-1}function _l(e){return _l[" "](e),e}_l[" "]=function(){};function OE(e,t){var n=Sw;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var ME=Ne("Opera"),Er=Ne("Trident")||Ne("MSIE"),xf=Ne("Edge"),Ra=xf||Er,Vf=Ne("Gecko")&&!(eo().toLowerCase().indexOf("webkit")!=-1&&!Ne("Edge"))&&!(Ne("Trident")||Ne("MSIE"))&&!Ne("Edge"),LE=eo().toLowerCase().indexOf("webkit")!=-1&&!Ne("Edge");function kf(){var e=K.document;return e?e.documentMode:void 0}var ba;t:{var qo="",zo=function(){var e=eo();if(Vf)return/rv:([^\);]+)(\)|;)/.exec(e);if(xf)return/Edge\/([\d\.]+)/.exec(e);if(Er)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(LE)return/WebKit\/(\S+)/.exec(e);if(ME)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(zo&&(qo=zo?zo[1]:""),Er){var Ko=kf();if(Ko!=null&&Ko>parseFloat(qo)){ba=String(Ko);break t}}ba=qo}var Sa;if(K.document&&Er){var yu=kf();Sa=yu||parseInt(ba,10)||void 0}else Sa=void 0;var FE=Sa;function ms(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vf){t:{try{_l(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:BE[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ms.$.h.call(this)}}jt(ms,ee);var BE={2:"touch",3:"pen",4:"mouse"};ms.prototype.h=function(){ms.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ps="closure_listenable_"+(1e6*Math.random()|0),$E=0;function UE(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++$E,this.fa=this.ia=!1}function no(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function yl(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function jE(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Nf(e){const t={};for(const n in e)t[n]=e[n];return t}const vu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Of(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<vu.length;i++)n=vu[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ro(e){this.src=e,this.g={},this.h=0}ro.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Pa(e,t,r,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new UE(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function Ca(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=Df(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(no(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Pa(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var vl="closure_lm_"+(1e6*Math.random()|0),Wo={};function Mf(e,t,n,r,s){if(r&&r.once)return Ff(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Mf(e,t[i],n,r,s);return null}return n=Tl(n),e&&e[Ps]?e.O(t,n,Cs(r)?!!r.capture:!!r,s):Lf(e,t,n,!1,r,s)}function Lf(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Cs(s)?!!s.capture:!!s,a=wl(e);if(a||(e[vl]=a=new ro(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=HE(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)NE||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent($f(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HE(){function e(n){return t.call(e.src,e.listener,n)}const t=qE;return e}function Ff(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Ff(e,t[i],n,r,s);return null}return n=Tl(n),e&&e[Ps]?e.P(t,n,Cs(r)?!!r.capture:!!r,s):Lf(e,t,n,!0,r,s)}function Bf(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Bf(e,t[i],n,r,s);else r=Cs(r)?!!r.capture:!!r,n=Tl(n),e&&e[Ps]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Pa(i,n,r,s),-1<n&&(no(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=wl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pa(t,n,r,s)),(n=-1<e?t[e]:null)&&El(n))}function El(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ps])Ca(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($f(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wl(t))?(Ca(n,e),n.h==0&&(n.src=null,t[vl]=null)):no(e)}}}function $f(e){return e in Wo?Wo[e]:Wo[e]="on"+e}function qE(e,t){if(e.fa)e=!0;else{t=new ms(t,this);var n=e.listener,r=e.la||e.src;e.ia&&El(e),e=n.call(r,t)}return e}function wl(e){return e=e[vl],e instanceof ro?e:null}var Go="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(e){return typeof e=="function"?e:(e[Go]||(e[Go]=function(t){return e.handleEvent(t)}),e[Go])}function $t(){An.call(this),this.i=new ro(this),this.S=this,this.J=null}jt($t,An);$t.prototype[Ps]=!0;$t.prototype.removeEventListener=function(e,t,n,r){Bf(this,e,t,n,r)};function Gt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var s=t;t=new ee(r,e),Of(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=Qs(o,r,!0,t)&&s}if(o=t.g=e,s=Qs(o,r,!0,t)&&s,s=Qs(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=Qs(o,r,!1,t)&&s}$t.prototype.N=function(){if($t.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)no(n[r]);delete e.g[t],e.h--}}this.J=null};$t.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};$t.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Qs(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ca(e.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Il=K.JSON.stringify;class zE{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function KE(){var e=Al;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class WE{constructor(){this.h=this.g=null}add(t,n){const r=Uf.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Uf=new zE(()=>new GE,e=>e.reset());class GE{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QE(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function YE(e){K.setTimeout(()=>{throw e},0)}let gs,_s=!1,Al=new WE,jf=()=>{const e=K.Promise.resolve(void 0);gs=()=>{e.then(XE)}};var XE=()=>{for(var e;e=KE();){try{e.h.call(e.g)}catch(n){YE(n)}var t=Uf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_s=!1};function so(e,t){$t.call(this),this.h=e||1,this.g=t||K,this.j=te(this.qb,this),this.l=Date.now()}jt(so,$t);V=so.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(Rl(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}V.N=function(){so.$.N.call(this),Rl(this),delete this.g};function bl(e,t,n){if(typeof e=="function")n&&(e=te(e,n));else if(e&&typeof e.handleEvent=="function")e=te(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:K.setTimeout(e,t||0)}function Hf(e){e.g=bl(()=>{e.g=null,e.i&&(e.i=!1,Hf(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class JE extends An{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Hf(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(e){An.call(this),this.h=e,this.g={}}jt(ys,An);var Eu=[];function qf(e,t,n,r){Array.isArray(n)||(n&&(Eu[0]=n.toString()),n=Eu);for(var s=0;s<n.length;s++){var i=Mf(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function zf(e){yl(e.g,function(t,n){this.g.hasOwnProperty(n)&&El(t)},e),e.g={}}ys.prototype.N=function(){ys.$.N.call(this),zf(this)};ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function io(){this.g=!0}io.prototype.Ea=function(){this.g=!1};function ZE(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function tw(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function ir(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+nw(e,n)+(r?" "+r:"")})}function ew(e,t){e.info(function(){return"TIMEOUT: "+t})}io.prototype.info=function(){};function nw(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Il(n)}catch{return t}}var Qn={},wu=null;function oo(){return wu=wu||new $t}Qn.Ta="serverreachability";function Kf(e){ee.call(this,Qn.Ta,e)}jt(Kf,ee);function vs(e){const t=oo();Gt(t,new Kf(t))}Qn.STAT_EVENT="statevent";function Wf(e,t){ee.call(this,Qn.STAT_EVENT,e),this.stat=t}jt(Wf,ee);function se(e){const t=oo();Gt(t,new Wf(t,e))}Qn.Ua="timingevent";function Gf(e,t){ee.call(this,Qn.Ua,e),this.size=t}jt(Gf,ee);function Ds(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){e()},t)}var ao={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sl(){}Sl.prototype.h=null;function Tu(e){return e.h||(e.h=e.i())}function Yf(){}var xs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cl(){ee.call(this,"d")}jt(Cl,ee);function Pl(){ee.call(this,"c")}jt(Pl,ee);var Da;function lo(){}jt(lo,Sl);lo.prototype.g=function(){return new XMLHttpRequest};lo.prototype.i=function(){return{}};Da=new lo;function Vs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ys(this),this.P=rw,e=Ra?125:void 0,this.V=new so(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xf}function Xf(){this.i=null,this.g="",this.h=!1}var rw=45e3,Jf={},xa={};V=Vs.prototype;V.setTimeout=function(e){this.P=e};function Va(e,t,n){e.L=1,e.A=uo(Je(t)),e.u=n,e.S=!0,Zf(e,null)}function Zf(e,t){e.G=Date.now(),ks(e),e.B=Je(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),ad(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Xf,e.g=Cd(e.l,n?t:null,!e.u),0<e.O&&(e.M=new JE(te(e.Pa,e,e.g),e.O)),qf(e.U,e.g,"readystatechange",e.nb),t=e.I?Nf(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),vs(),ZE(e.j,e.v,e.B,e.m,e.W,e.u)}V.nb=function(e){e=e.target;const t=this.M;t&&Me(e)==3?t.l():this.Pa(e)};V.Pa=function(e){try{if(e==this.g)t:{const u=Me(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Ra||this.g&&(this.h.h||this.g.ja()||bu(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?vs(3):vs(2)),co(this);var n=this.g.da();this.ca=n;e:if(td(this)){var r=bu(this.g);e="";var s=r.length,i=Me(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Yr(this);var o="";break e}this.h.i=new K.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,tw(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ps(a)){var c=a;break e}}c=null}if(n=c)ir(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,n);else{this.i=!1,this.s=3,se(12),Mn(this),Yr(this);break t}}this.S?(ed(this,u,o),Ra&&this.i&&u==3&&(qf(this.U,this.V,"tick",this.mb),this.V.start())):(ir(this.j,this.m,o,null),ka(this,o)),u==4&&Mn(this),this.i&&!this.J&&(u==4?Ad(this.l,this):(this.i=!1,ks(this)))}else Aw(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Mn(this),Yr(this)}}}catch{}finally{}};function td(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function ed(e,t,n){let r=!0,s;for(;!e.J&&e.o<n.length;)if(s=sw(e,n),s==xa){t==4&&(e.s=4,se(14),r=!1),ir(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Jf){e.s=4,se(15),ir(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ir(e.j,e.m,s,null),ka(e,s);td(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,se(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ol(t),t.M=!0,se(11))):(ir(e.j,e.m,n,"[Invalid Chunked Response]"),Mn(e),Yr(e))}V.mb=function(){if(this.g){var e=Me(this.g),t=this.g.ja();this.o<t.length&&(co(this),ed(this,e,t),this.i&&e!=4&&ks(this))}};function sw(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?xa:(n=Number(t.substring(n,r)),isNaN(n)?Jf:(r+=1,r+n>t.length?xa:(t=t.slice(r,r+n),e.o=r+n,t)))}V.cancel=function(){this.J=!0,Mn(this)};function ks(e){e.Y=Date.now()+e.P,nd(e,e.P)}function nd(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Ds(te(e.lb,e),t)}function co(e){e.C&&(K.clearTimeout(e.C),e.C=null)}V.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(ew(this.j,this.B),this.L!=2&&(vs(),se(17)),Mn(this),this.s=2,Yr(this)):nd(this,this.Y-e)};function Yr(e){e.l.H==0||e.J||Ad(e.l,e)}function Mn(e){co(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Rl(e.V),zf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ka(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Na(n.i,e))){if(!e.K&&Na(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Ai(n),mo(n);else break t;Nl(n),se(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ds(te(n.ib,n),6e3));if(1>=ud(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ln(n,11)}else if((e.K||n.g==e)&&Ai(n),!ps(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const E=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var i=r.i;i.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Dl(i,i.h),i.h=null))}if(r.F){const _=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,wt(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=Sd(r,r.J?r.pa:null,r.Y),o.K){hd(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(co(a),ks(a)),r.g=o}else Td(r);0<n.j.length&&go(n)}else c[0]!="stop"&&c[0]!="close"||Ln(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ln(n,7):kl(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}vs(4)}catch{}}function iw(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(to(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ow(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(to(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function rd(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(to(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=ow(e),r=iw(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aw(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function jn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof jn){this.h=e.h,Ti(this,e.j),this.s=e.s,this.g=e.g,Ii(this,e.m),this.l=e.l;var t=e.i,n=new Es;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Iu(this,n),this.o=e.o}else e&&(t=String(e).match(sd))?(this.h=!1,Ti(this,t[1]||"",!0),this.s=qr(t[2]||""),this.g=qr(t[3]||"",!0),Ii(this,t[4]),this.l=qr(t[5]||"",!0),Iu(this,t[6]||"",!0),this.o=qr(t[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}jn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zr(t,Au,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(zr(t,Au,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(zr(n,n.charAt(0)=="/"?uw:cw,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zr(n,fw)),e.join("")};function Je(e){return new jn(e)}function Ti(e,t,n){e.j=n?qr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ii(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Iu(e,t,n){t instanceof Es?(e.i=t,dw(e.i,e.h)):(n||(t=zr(t,hw)),e.i=new Es(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function uo(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zr(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,lw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lw(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Au=/[#\/\?@]/g,cw=/[#\?:]/g,uw=/[#\?]/g,hw=/[#\?@]/g,fw=/#/g;function Es(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rn(e){e.g||(e.g=new Map,e.h=0,e.i&&aw(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}V=Es.prototype;V.add=function(e,t){Rn(this),this.i=null,e=Dr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function id(e,t){Rn(e),t=Dr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function od(e,t){return Rn(e),t=Dr(e,t),e.g.has(t)}V.forEach=function(e,t){Rn(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};V.ta=function(){Rn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};V.Z=function(e){Rn(this);let t=[];if(typeof e=="string")od(this,e)&&(t=t.concat(this.g.get(Dr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};V.set=function(e,t){return Rn(this),this.i=null,e=Dr(this,e),od(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};V.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function ad(e,t,n){id(e,t),0<n.length&&(e.i=null,e.g.set(Dr(e,t),gl(n)),e.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};function Dr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function dw(e,t){t&&!e.j&&(Rn(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(id(this,r),ad(this,s,n))},e)),e.j=t}var pw=class{constructor(e,t){this.g=e,this.map=t}};function ld(e){this.l=e||mw,K.PerformanceNavigationTiming?(e=K.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mw=10;function cd(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ud(e){return e.h?1:e.g?e.g.size:0}function Na(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dl(e,t){e.g?e.g.add(t):e.h=t}function hd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ld.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function fd(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return gl(e.i)}var gw=class{stringify(e){return K.JSON.stringify(e,void 0)}parse(e){return K.JSON.parse(e,void 0)}};function _w(){this.g=new gw}function yw(e,t,n){const r=n||"";try{rd(e,function(s,i){let o=s;Cs(s)&&(o=Il(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function vw(e,t){const n=new io;if(K.Image){const r=new Image;r.onload=Gs(Ys,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gs(Ys,n,r,"TestLoadImage: error",!1,t),r.onabort=Gs(Ys,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gs(Ys,n,r,"TestLoadImage: timeout",!1,t),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ys(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function ho(e){this.l=e.ec||null,this.j=e.ob||!1}jt(ho,Sl);ho.prototype.g=function(){return new fo(this.l,this.j)};ho.prototype.i=function(e){return function(){return e}}({});function fo(e,t){$t.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jt(fo,$t);var xl=0;V=fo.prototype;V.open=function(e,t){if(this.readyState!=xl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ws(this)};V.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||K).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=xl};V.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function dd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}V.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ns(this):ws(this),this.readyState==3&&dd(this)}};V.Za=function(e){this.g&&(this.response=this.responseText=e,Ns(this))};V.Ya=function(e){this.g&&(this.response=e,Ns(this))};V.ka=function(){this.g&&Ns(this)};function Ns(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ws(e)}V.setRequestHeader=function(e,t){this.v.append(e,t)};V.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ws(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Ew=K.JSON.parse;function Ct(e){$t.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pd,this.L=this.M=!1}jt(Ct,$t);var pd="",ww=/^https?$/i,Tw=["POST","PUT"];V=Ct.prototype;V.Oa=function(e){this.M=e};V.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Da.g(),this.C=this.u?Tu(this.u):Tu(Da),this.g.onreadystatechange=te(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){Ru(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=K.FormData&&e instanceof K.FormData,!(0<=Df(Tw,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_d(this),0<this.B&&((this.L=Iw(this.g))?(this.g.timeout=this.B,this.g.ontimeout=te(this.ua,this)):this.A=bl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Ru(this,i)}};function Iw(e){return Er&&typeof e.timeout=="number"&&e.ontimeout!==void 0}V.ua=function(){typeof ml<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))};function Ru(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,md(e),po(e)}function md(e){e.F||(e.F=!0,Gt(e,"complete"),Gt(e,"error"))}V.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gt(this,"complete"),Gt(this,"abort"),po(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),po(this,!0)),Ct.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?gd(this):this.kb())};V.kb=function(){gd(this)};function gd(e){if(e.h&&typeof ml<"u"&&(!e.C[1]||Me(e)!=4||e.da()!=2)){if(e.v&&Me(e)==4)bl(e.La,0,e);else if(Gt(e,"readystatechange"),Me(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var s=String(e.I).match(sd)[1]||null;!s&&K.self&&K.self.location&&(s=K.self.location.protocol.slice(0,-1)),r=!ww.test(s?s.toLowerCase():"")}n=r}if(n)Gt(e,"complete"),Gt(e,"success");else{e.m=6;try{var i=2<Me(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",md(e)}}finally{po(e)}}}}function po(e,t){if(e.g){_d(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Gt(e,"ready");try{n.onreadystatechange=r}catch{}}}function _d(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(K.clearTimeout(e.A),e.A=null)}V.isActive=function(){return!!this.g};function Me(e){return e.g?e.g.readyState:0}V.da=function(){try{return 2<Me(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Ew(t)}};function bu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case pd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Aw(e){const t={};e=(e.g&&2<=Me(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(ps(e[r]))continue;var n=QE(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}jE(t,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yd(e){let t="";return yl(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Vl(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=yd(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):wt(e,t,n))}function Fr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vd(e){this.Ga=0,this.j=[],this.l=new io,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fr("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fr("baseRetryDelayMs",5e3,e),this.hb=Fr("retryDelaySeedMs",1e4,e),this.eb=Fr("forwardChannelMaxRetries",2,e),this.xa=Fr("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ld(e&&e.concurrentRequestLimit),this.Ja=new _w,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=vd.prototype;V.ra=8;V.H=1;function kl(e){if(Ed(e),e.H==3){var t=e.W++,n=Je(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),Os(e,n),t=new Vs(e,e.l,t),t.L=2,t.A=uo(Je(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&K.Image&&(new Image().src=t.A,n=!0),n||(t.g=Cd(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ks(t)}bd(e)}function mo(e){e.g&&(Ol(e),e.g.cancel(),e.g=null)}function Ed(e){mo(e),e.u&&(K.clearTimeout(e.u),e.u=null),Ai(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&K.clearTimeout(e.m),e.m=null)}function go(e){if(!cd(e.i)&&!e.m){e.m=!0;var t=e.Na;gs||jf(),_s||(gs(),_s=!0),Al.add(t,e),e.C=0}}function Rw(e,t){return ud(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Ds(te(e.Na,e,t),Rd(e,e.C)),e.C++,!0)}V.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Vs(this,this.l,e);let i=this.s;if(this.U&&(i?(i=Nf(i),Of(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=wd(this,s,t),n=Je(this.I),wt(n,"RID",e),wt(n,"CVER",22),this.F&&wt(n,"X-HTTP-Session-Id",this.F),Os(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(yd(i)))+"&"+t:this.o&&Vl(n,this.o,i)),Dl(this.i,s),this.bb&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),s.aa=!0,Va(s,n,null)):Va(s,n,t),this.H=2}}else this.H==3&&(e?Su(this,e):this.j.length==0||cd(this.i)||Su(this))};function Su(e,t){var n;t?n=t.m:n=e.W++;const r=Je(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.V),Os(e,r),e.o&&e.s&&Vl(r,e.o,e.s),n=new Vs(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=wd(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dl(e.i,n),Va(n,r,t)}function Os(e,t){e.na&&yl(e.na,function(n,r){wt(t,r,n)}),e.h&&rd({},function(n,r){wt(t,r,n)})}function wd(e,t,n){n=Math.min(e.j.length,n);var r=e.h?te(e.h.Va,e.h,e):null;t:{var s=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{yw(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function Td(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;gs||jf(),_s||(gs(),_s=!0),Al.add(t,e),e.A=0}}function Nl(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Ds(te(e.Ma,e),Rd(e,e.A)),e.A++,!0)}V.Ma=function(){if(this.u=null,Id(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ds(te(this.jb,this),e)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,se(10),mo(this),Id(this))};function Ol(e){e.B!=null&&(K.clearTimeout(e.B),e.B=null)}function Id(e){e.g=new Vs(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Je(e.wa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.V),wt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&wt(t,"TO",e.qa),wt(t,"TYPE","xmlhttp"),Os(e,t),e.o&&e.s&&Vl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=uo(Je(t)),n.u=null,n.S=!0,Zf(n,e)}V.ib=function(){this.v!=null&&(this.v=null,mo(this),Nl(this),se(19))};function Ai(e){e.v!=null&&(K.clearTimeout(e.v),e.v=null)}function Ad(e,t){var n=null;if(e.g==t){Ai(e),Ol(e),e.g=null;var r=2}else if(Na(e.i,t))n=t.F,hd(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;r=oo(),Gt(r,new Gf(r,n)),go(e)}else Td(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(r==1&&Rw(e,t)||r==2&&Nl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Ln(e,5);break;case 4:Ln(e,10);break;case 3:Ln(e,6);break;default:Ln(e,2)}}}function Rd(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ln(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=te(e.pb,e);n||(n=new jn("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||Ti(n,"https"),uo(n)),vw(n.toString(),r)}else se(2);e.H=0,e.h&&e.h.za(t),bd(e),Ed(e)}V.pb=function(e){e?(this.l.info("Successfully pinged google.com"),se(2)):(this.l.info("Failed to ping google.com"),se(1))};function bd(e){if(e.H=0,e.ma=[],e.h){const t=fd(e.i);(t.length!=0||e.j.length!=0)&&(_u(e.ma,t),_u(e.ma,e.j),e.i.i.length=0,gl(e.j),e.j.length=0),e.h.ya()}}function Sd(e,t,n){var r=n instanceof jn?Je(n):new jn(n);if(r.g!="")t&&(r.g=t+"."+r.g),Ii(r,r.m);else{var s=K.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new jn(null);r&&Ti(i,r),t&&(i.g=t),s&&Ii(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&wt(r,n,t),wt(r,"VER",e.ra),Os(e,r),r}function Cd(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Ct(new ho({ob:n})):new Ct(e.va),t.Oa(e.J),t}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function Pd(){}V=Pd.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Ri(){if(Er&&!(10<=Number(FE)))throw Error("Environmental error: no available transport.")}Ri.prototype.g=function(e,t){return new he(e,t)};function he(e,t){$t.call(this),this.g=new vd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ps(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ps(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new xr(this)}jt(he,$t);he.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;se(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Sd(e,null,e.Y),go(e)};he.prototype.close=function(){kl(this.g)};he.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Il(e),e=n);t.j.push(new pw(t.fb++,e)),t.H==3&&go(t)};he.prototype.N=function(){this.g.h=null,delete this.j,kl(this.g),delete this.g,he.$.N.call(this)};function Dd(e){Cl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}jt(Dd,Cl);function xd(){Pl.call(this),this.status=1}jt(xd,Pl);function xr(e){this.g=e}jt(xr,Pd);xr.prototype.Ba=function(){Gt(this.g,"a")};xr.prototype.Aa=function(e){Gt(this.g,new Dd(e))};xr.prototype.za=function(e){Gt(this.g,new xd)};xr.prototype.ya=function(){Gt(this.g,"b")};function bw(){this.blockSize=-1}function Ue(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}jt(Ue,bw);Ue.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Qo(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}Ue.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)Qo(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){Qo(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){Qo(this,r),s=0;break}}this.h=s,this.i+=t};Ue.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function pt(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var Sw={};function Ml(e){return-128<=e&&128>e?OE(e,function(t){return new pt([t|0],0>t?-1:0)}):new pt([e|0],0>e?-1:0)}function Le(e){if(isNaN(e)||!isFinite(e))return hr;if(0>e)return zt(Le(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Oa;return new pt(t,0)}function Vd(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return zt(Vd(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Le(Math.pow(t,8)),r=hr,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+i),t);8>i?(i=Le(Math.pow(t,i)),r=r.R(i).add(Le(o))):(r=r.R(n),r=r.add(Le(o)))}return r}var Oa=4294967296,hr=Ml(0),Ma=Ml(1),Cu=Ml(16777216);V=pt.prototype;V.ea=function(){if(de(this))return-zt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Oa+r)*t,t*=Oa}return e};V.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(We(this))return"0";if(de(this))return"-"+zt(this).toString(e);for(var t=Le(Math.pow(e,6)),n=this,r="";;){var s=Si(n,t).g;n=bi(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,We(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};V.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function We(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function de(e){return e.h==-1}V.X=function(e){return e=bi(this,e),de(e)?-1:We(e)?0:1};function zt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new pt(n,~e.h).add(Ma)}V.abs=function(){return de(this)?zt(this):this};V.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new pt(n,n[n.length-1]&-2147483648?-1:0)};function bi(e,t){return e.add(zt(t))}V.R=function(e){if(We(this)||We(e))return hr;if(de(this))return de(e)?zt(this).R(zt(e)):zt(zt(this).R(e));if(de(e))return zt(this.R(zt(e)));if(0>this.X(Cu)&&0>e.X(Cu))return Le(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*r+2*s]+=o*l,Xs(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Xs(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Xs(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Xs(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new pt(n,0)};function Xs(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Br(e,t){this.g=e,this.h=t}function Si(e,t){if(We(t))throw Error("division by zero");if(We(e))return new Br(hr,hr);if(de(e))return t=Si(zt(e),t),new Br(zt(t.g),zt(t.h));if(de(t))return t=Si(e,zt(t)),new Br(zt(t.g),t.h);if(30<e.g.length){if(de(e)||de(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ma,r=t;0>=r.X(e);)n=Pu(n),r=Pu(r);var s=er(n,1),i=er(r,1);for(r=er(r,2),n=er(n,2);!We(r);){var o=i.add(r);0>=o.X(e)&&(s=s.add(n),i=o),r=er(r,1),n=er(n,1)}return t=bi(e,s.R(t)),new Br(s,t)}for(s=hr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Le(n),o=i.R(t);de(o)||0<o.X(e);)n-=r,i=Le(n),o=i.R(t);We(i)&&(i=Ma),s=s.add(i),e=bi(e,o)}return new Br(s,e)}V.gb=function(e){return Si(this,e).h};V.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new pt(n,this.h&e.h)};V.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new pt(n,this.h|e.h)};V.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new pt(n,this.h^e.h)};function Pu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new pt(n,e.h)}function er(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new pt(s,e.h)}Ri.prototype.createWebChannel=Ri.prototype.g;he.prototype.send=he.prototype.u;he.prototype.open=he.prototype.m;he.prototype.close=he.prototype.close;ao.NO_ERROR=0;ao.TIMEOUT=8;ao.HTTP_ERROR=6;Qf.COMPLETE="complete";Yf.EventType=xs;xs.OPEN="a";xs.CLOSE="b";xs.ERROR="c";xs.MESSAGE="d";$t.prototype.listen=$t.prototype.O;Ct.prototype.listenOnce=Ct.prototype.P;Ct.prototype.getLastError=Ct.prototype.Sa;Ct.prototype.getLastErrorCode=Ct.prototype.Ia;Ct.prototype.getStatus=Ct.prototype.da;Ct.prototype.getResponseJson=Ct.prototype.Wa;Ct.prototype.getResponseText=Ct.prototype.ja;Ct.prototype.send=Ct.prototype.ha;Ct.prototype.setWithCredentials=Ct.prototype.Oa;Ue.prototype.digest=Ue.prototype.l;Ue.prototype.reset=Ue.prototype.reset;Ue.prototype.update=Ue.prototype.j;pt.prototype.add=pt.prototype.add;pt.prototype.multiply=pt.prototype.R;pt.prototype.modulo=pt.prototype.gb;pt.prototype.compare=pt.prototype.X;pt.prototype.toNumber=pt.prototype.ea;pt.prototype.toString=pt.prototype.toString;pt.prototype.getBits=pt.prototype.D;pt.fromNumber=Le;pt.fromString=Vd;var Cw=function(){return new Ri},Pw=function(){return oo()},Yo=ao,Dw=Qf,xw=Qn,Du={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Js=Yf,Vw=Ct,kw=pt;const xu="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vr="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Af("@firebase/firestore");function $r(){return Kn.logLevel}function O(e,...t){if(Kn.logLevel<=st.DEBUG){const n=t.map(Ll);Kn.debug(`Firestore (${Vr}): ${e}`,...n)}}function En(e,...t){if(Kn.logLevel<=st.ERROR){const n=t.map(Ll);Kn.error(`Firestore (${Vr}): ${e}`,...n)}}function Ci(e,...t){if(Kn.logLevel<=st.WARN){const n=t.map(Ll);Kn.warn(`Firestore (${Vr}): ${e}`,...n)}}function Ll(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e="Unexpected state"){const t=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: `+e;throw En(t),new Error(t)}function Ut(e,t){e||tt()}function It(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Pr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class Ow{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mw{constructor(t){this.t=t,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new gn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gn,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string"),new kd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string"),new Xt(t)}}class Lw{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fw{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Lw(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $w{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,O("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new Bw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=Uw(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function yt(e,t){return e<t?-1:e>t?1:0}function wr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Bt.fromMillis(Date.now())}static fromDate(t){return Bt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?yt(this.nanoseconds,t.nanoseconds):yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Bt(0,0))}static max(){return new bt(new Bt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,n,r){n===void 0?n=0:n>t.length&&tt(),r===void 0?r=t.length-n:r>t.length-n&&tt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ts.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ts?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class St extends Ts{construct(t,n,r){return new St(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new H(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new St(n)}static emptyPath(){return new St([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ts{construct(t,n,r){return new Kt(t,n,r)}static isValidIdentifier(t){return jw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new H(b.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new H(b.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new H(b.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.path=t}static fromPath(t){return new X(St.fromString(t))}static fromName(t){return new X(St.fromString(t).popFirst(5))}static empty(){return new X(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&St.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return St.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new St(t.slice()))}}function Hw(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=bt.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new wn(s,X.empty(),t)}function qw(e){return new wn(e.readTime,e.key,-1)}class wn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new wn(bt.min(),X.empty(),-1)}static max(){return new wn(bt.max(),X.empty(),-1)}}function zw(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=X.comparator(e.documentKey,t.documentKey),n!==0?n:yt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(e){if(e.code!==b.FAILED_PRECONDITION||e.message!==Kw)throw e;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new I((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):I.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):I.reject(n)}static resolve(t){return new I((n,r)=>{n(t)})}static reject(t){return new I((n,r)=>{r(t)})}static waitFor(t){return new I((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=I.resolve(!1);for(const r of t)n=n.next(s=>s?I.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new I((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(t,n){return new I((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new gn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xr(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Bl(r.target.error);this.V.reject(new Xr(t,s))}}static open(t,n,r,s){try{return new Fl(n,t.transaction(s,r))}catch(i){throw new Xr(n,i)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(O("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new Qw(n)}}class Fn{constructor(t,n,r){this.name=t,this.version=n,this.p=r,Fn.S(vi())===12.2&&En("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return O("SimpleDb","Removing database:",t),Nn(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!Tf())return!1;if(Fn.C())return!0;const t=vi(),n=Fn.S(t),r=0<n&&n<10,s=Fn.v(t),i=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||i)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(O("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Xr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new H(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new H(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xr(t,o))},s.onupgradeneeded=i=>{O("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{O("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=Fl.open(this.db,t,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),I.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(O("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Gw{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Nn(this.k.delete())}}class Xr extends H{constructor(t,n){super(b.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function _o(e){return e.name==="IndexedDbTransactionError"}class Qw{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(O("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(O("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Nn(r)}add(t){return O("SimpleDb","ADD",this.store.name,t,t),Nn(this.store.add(t))}get(t){return Nn(this.store.get(t)).next(n=>(n===void 0&&(n=null),O("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return O("SimpleDb","DELETE",this.store.name,t),Nn(this.store.delete(t))}count(){return O("SimpleDb","COUNT",this.store.name),Nn(this.store.count())}W(t,n){const r=this.options(t,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new I((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new I((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(t,n){O("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const s=this.cursor(r);return this.G(s,n)}Z(t){const n=this.cursor({});return new I((r,s)=>{n.onerror=i=>{const o=Bl(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new I((s,i)=>{t.onerror=o=>{i(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new Gw(a),c=n(a.primaryKey,a.value,l);if(c instanceof I){const u=c.catch(h=>(l.done(),I.reject(h)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>I.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Nn(e){return new I((t,n)=>{e.onsuccess=r=>{const s=r.target.result;t(s)},e.onerror=r=>{const s=Bl(r.target.error);n(s)}})}let Vu=!1;function Bl(e){const t=Fn.S(vi());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new H("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vu||(Vu=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Md._e=-1;function $l(e){return e==null}function Pi(e){return e===0&&1/e==-1/0}function Yw(e){return typeof e=="number"&&Number.isInteger(e)&&!Pi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ld(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||Ht.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zs(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zs(this.root,t,this.comparator,!0)}}class Zs{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ht{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=i??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Ht(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const t=this.left.check();if(t!==this.right.check())throw tt();return t+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(t,n,r,s,i){return this}insert(t,n,r){return new Ht(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nu(this.data.getIterator())}getIteratorFrom(t){return new Nu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ne(this.comparator);return n.data=t,n}}class Nu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.fields=t,t.sort(Kt.comparator)}static empty(){return new Ae([])}unionWith(t){let n=new ne(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ae(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return wr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Xw("Invalid base64 string: "+i):i}}(t);return new Ze(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const Jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(e){if(Ut(!!e),typeof e=="string"){let t=0;const n=Jw.exec(e);if(Ut(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qt(e.seconds),nanos:qt(e.nanos)}}function qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Is(e){return typeof e=="string"?Ze.fromBase64String(e):Ze.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Fd(e){const t=e.mapValue.fields.__previous_value__;return Ul(t)?Fd(t):t}function Di(e){const t=Wn(e.mapValue.fields.__local_write_time__.timestampValue);return new Bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n,r,s,i,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class xi{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new xi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof xi&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Tr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ul(e)?4:t0(e)?9007199254740991:10:tt()}function je(e,t){if(e===t)return!0;const n=Tr(e);if(n!==Tr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Di(e).isEqual(Di(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Wn(s.timestampValue),a=Wn(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return Is(s.bytesValue).isEqual(Is(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return qt(s.geoPointValue.latitude)===qt(i.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qt(s.integerValue)===qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qt(s.doubleValue),a=qt(i.doubleValue);return o===a?Pi(o)===Pi(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return wr(e.arrayValue.values||[],t.arrayValue.values||[],je);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ku(o)!==ku(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!je(o[l],a[l])))return!1;return!0}(e,t);default:return tt()}}function As(e,t){return(e.values||[]).find(n=>je(n,t))!==void 0}function Ir(e,t){if(e===t)return 0;const n=Tr(e),r=Tr(t);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=qt(i.integerValue||i.doubleValue),l=qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Ou(e.timestampValue,t.timestampValue);case 4:return Ou(Di(e),Di(t));case 5:return yt(e.stringValue,t.stringValue);case 6:return function(i,o){const a=Is(i),l=Is(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=yt(a[c],l[c]);if(u!==0)return u}return yt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=yt(qt(i.latitude),qt(o.latitude));return a!==0?a:yt(qt(i.longitude),qt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Ir(a[c],l[c]);if(u)return u}return yt(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===ti.mapValue&&o===ti.mapValue)return 0;if(i===ti.mapValue)return 1;if(o===ti.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=yt(l[h],u[h]);if(f!==0)return f;const m=Ir(a[l[h]],c[u[h]]);if(m!==0)return m}return yt(l.length,u.length)}(e.mapValue,t.mapValue);default:throw tt()}}function Ou(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return yt(e,t);const n=Wn(e),r=Wn(t),s=yt(n.seconds,r.seconds);return s!==0?s:yt(n.nanos,r.nanos)}function Ar(e){return La(e)}function La(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Wn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Is(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return X.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=La(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${La(n.fields[o])}`;return s+"}"}(e.mapValue):tt()}function Fa(e){return!!e&&"integerValue"in e}function jl(e){return!!e&&"arrayValue"in e}function ui(e){return!!e&&"mapValue"in e}function Jr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ms(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Jr(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function t0(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.value=t}static empty(){return new we({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ui(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jr(n)}setAll(t){let n=Kt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Jr(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());ui(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return je(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];ui(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Ms(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new we(Jr(this.value))}}function Bd(e){const t=[];return Ms(e.fields,(n,r)=>{const s=new Kt([n]);if(ui(r)){const i=Bd(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new Ae(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ye(t,0,bt.min(),bt.min(),bt.min(),we.empty(),0)}static newFoundDocument(t,n,r,s){return new ye(t,1,n,bt.min(),r,s,0)}static newNoDocument(t,n){return new ye(t,2,n,bt.min(),bt.min(),we.empty(),0)}static newUnknownDocument(t,n){return new ye(t,3,n,bt.min(),bt.min(),we.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=we.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=we.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n){this.position=t,this.inclusive=n}}function Mu(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Ir(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lu(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!je(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,n="asc"){this.field=t,this.dir=n}}function e0(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{}class Ft extends $d{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new r0(t,n,r):n==="array-contains"?new o0(t,r):n==="in"?new a0(t,r):n==="not-in"?new l0(t,r):n==="array-contains-any"?new c0(t,r):new Ft(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new s0(t,r):new i0(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ir(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(Ir(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends $d{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Tn(t,n)}matches(t){return Ud(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ud(e){return e.op==="and"}function jd(e){return n0(e)&&Ud(e)}function n0(e){for(const t of e.filters)if(t instanceof Tn)return!1;return!0}function Ba(e){if(e instanceof Ft)return e.field.canonicalString()+e.op.toString()+Ar(e.value);if(jd(e))return e.filters.map(t=>Ba(t)).join(",");{const t=e.filters.map(n=>Ba(n)).join(",");return`${e.op}(${t})`}}function Hd(e,t){return e instanceof Ft?function(r,s){return s instanceof Ft&&r.op===s.op&&r.field.isEqual(s.field)&&je(r.value,s.value)}(e,t):e instanceof Tn?function(r,s){return s instanceof Tn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Hd(o,s.filters[a]),!0):!1}(e,t):void tt()}function qd(e){return e instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Ar(n.value)}`}(e):e instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(qd).join(" ,")+"}"}(e):"Filter"}class r0 extends Ft{constructor(t,n,r){super(t,n,r),this.key=X.fromName(r.referenceValue)}matches(t){const n=X.comparator(t.key,this.key);return this.matchesComparison(n)}}class s0 extends Ft{constructor(t,n){super(t,"in",n),this.keys=zd("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class i0 extends Ft{constructor(t,n){super(t,"not-in",n),this.keys=zd("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function zd(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class o0 extends Ft{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jl(n)&&As(n.arrayValue,this.value)}}class a0 extends Ft{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&As(this.value.arrayValue,n)}}class l0 extends Ft{constructor(t,n){super(t,"not-in",n)}matches(t){if(As(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!As(this.value.arrayValue,n)}}class c0 extends Ft{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>As(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Fu(e,t=null,n=[],r=[],s=null,i=null,o=null){return new u0(e,t,n,r,s,i,o)}function Hl(e){const t=It(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ba(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$l(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ar(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ar(r)).join(",")),t.ce=n}return t.ce}function ql(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!e0(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Hd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Lu(e.startAt,t.startAt)&&Lu(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function h0(e,t,n,r,s,i,o,a){return new yo(e,t,n,r,s,i,o,a)}function f0(e){return new yo(e)}function Bu(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function d0(e){return e.collectionGroup!==null}function Zr(e){const t=It(e);if(t.le===null){t.le=[];const n=new Set;for(const i of t.explicitOrderBy)t.le.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ne(Kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.le.push(new ki(i,r))}),n.has(Kt.keyField().canonicalString())||t.le.push(new ki(Kt.keyField(),r))}return t.le}function Hn(e){const t=It(e);return t.he||(t.he=p0(t,Zr(e))),t.he}function p0(e,t){if(e.limitType==="F")return Fu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ki(s.field,i)});const n=e.endAt?new Vi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vi(e.startAt.position,e.startAt.inclusive):null;return Fu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $a(e,t,n){return new yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kd(e,t){return ql(Hn(e),Hn(t))&&e.limitType===t.limitType}function Wd(e){return`${Hl(Hn(e))}|lt:${e.limitType}`}function Ur(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>qd(s)).join(", ")}]`),$l(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ar(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ar(s)).join(",")),`Target(${r})`}(Hn(e))}; limitType=${e.limitType})`}function zl(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):X.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of Zr(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Mu(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Zr(r),s)||r.endAt&&!function(o,a,l){const c=Mu(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Zr(r),s))}(e,t)}function m0(e){return(t,n)=>{let r=!1;for(const s of Zr(e)){const i=g0(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function g0(e,t,n){const r=e.field.isKeyField()?X.comparator(t.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ir(l,c):tt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return Ld(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new le(X.comparator);function Ni(){return _0}const Gd=new le(X.comparator);function ei(...e){let t=Gd;for(const n of e)t=t.insert(n.key,n);return t}function Qd(e){let t=Gd;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Bn(){return ts()}function Yd(){return ts()}function ts(){return new kr(e=>e.toString(),(e,t)=>e.isEqual(t))}const y0=new le(X.comparator),v0=new ne(X.comparator);function Jt(...e){let t=v0;for(const n of e)t=t.add(n);return t}const E0=new ne(yt);function w0(){return E0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pi(t)?"-0":t}}function Jd(e){return{integerValue:""+e}}function T0(e,t){return Yw(t)?Jd(t):Xd(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this._=void 0}}function I0(e,t,n){return e instanceof Oi?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ul(i)&&(i=Fd(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Rs?tp(e,t):e instanceof bs?ep(e,t):function(s,i){const o=Zd(s,i),a=$u(o)+$u(s.Ie);return Fa(o)&&Fa(s.Ie)?Jd(a):Xd(s.serializer,a)}(e,t)}function A0(e,t,n){return e instanceof Rs?tp(e,t):e instanceof bs?ep(e,t):n}function Zd(e,t){return e instanceof Mi?function(r){return Fa(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class Oi extends vo{}class Rs extends vo{constructor(t){super(),this.elements=t}}function tp(e,t){const n=np(t);for(const r of e.elements)n.some(s=>je(s,r))||n.push(r);return{arrayValue:{values:n}}}class bs extends vo{constructor(t){super(),this.elements=t}}function ep(e,t){let n=np(t);for(const r of e.elements)n=n.filter(s=>!je(s,r));return{arrayValue:{values:n}}}class Mi extends vo{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function $u(e){return qt(e.integerValue||e.doubleValue)}function np(e){return jl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function R0(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Rs&&s instanceof Rs||r instanceof bs&&s instanceof bs?wr(r.elements,s.elements,je):r instanceof Mi&&s instanceof Mi?je(r.Ie,s.Ie):r instanceof Oi&&s instanceof Oi}(e.transform,t.transform)}class b0{constructor(t,n){this.version=t,this.transformResults=n}}class Ye{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ye}static exists(t){return new Ye(void 0,t)}static updateTime(t){return new Ye(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hi(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Eo{}function rp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ip(e.key,Ye.none()):new Ls(e.key,e.data,Ye.none());{const n=e.data,r=we.empty();let s=new ne(Kt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yn(e.key,r,new Ae(s.toArray()),Ye.none())}}function S0(e,t,n){e instanceof Ls?function(s,i,o){const a=s.value.clone(),l=ju(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Yn?function(s,i,o){if(!hi(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=ju(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(sp(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function es(e,t,n,r){return e instanceof Ls?function(i,o,a,l){if(!hi(i.precondition,o))return a;const c=i.value.clone(),u=Hu(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Yn?function(i,o,a,l){if(!hi(i.precondition,o))return a;const c=Hu(i.fieldTransforms,l,o),u=o.data;return u.setAll(sp(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return hi(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function C0(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=Zd(r.transform,s||null);i!=null&&(n===null&&(n=we.empty()),n.set(r.field,i))}return n||null}function Uu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wr(r,s,(i,o)=>R0(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ls extends Eo{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yn extends Eo{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sp(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ju(e,t,n){const r=new Map;Ut(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,A0(o,a,n[s]))}return r}function Hu(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,I0(i,o,t))}return r}class ip extends Eo{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P0 extends Eo{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&S0(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=es(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=es(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Yd();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=rp(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Jt())}isEqual(t){return this.batchId===t.batchId&&wr(this.mutations,t.mutations,(n,r)=>Uu(n,r))&&wr(this.baseMutations,t.baseMutations,(n,r)=>Uu(n,r))}}class Kl{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){Ut(t.mutations.length===r.length);let s=function(){return y0}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Kl(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,et;function V0(e){switch(e){default:return tt();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function k0(e){if(e===void 0)return En("GRPC error has no .code"),b.UNKNOWN;switch(e){case Vt.OK:return b.OK;case Vt.CANCELLED:return b.CANCELLED;case Vt.UNKNOWN:return b.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return b.INTERNAL;case Vt.UNAVAILABLE:return b.UNAVAILABLE;case Vt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Vt.NOT_FOUND:return b.NOT_FOUND;case Vt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Vt.ABORTED:return b.ABORTED;case Vt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Vt.DATA_LOSS:return b.DATA_LOSS;default:return tt()}}(et=Vt||(Vt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new kw([4294967295,4294967295],0);class N0{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ua(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function O0(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function M0(e,t){return Ua(e,t.toTimestamp())}function fr(e){return Ut(!!e),bt.fromTimestamp(function(n){const r=Wn(n);return new Bt(r.seconds,r.nanos)}(e))}function op(e,t){return ja(e,t).canonicalString()}function ja(e,t){const n=function(s){return new St(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function L0(e){const t=St.fromString(e);return Ut(z0(t)),t}function Ha(e,t){return op(e.databaseId,t.path)}function F0(e){const t=L0(e);return t.length===4?St.emptyPath():$0(t)}function B0(e){return new St(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $0(e){return Ut(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function qu(e,t,n){return{name:Ha(e,t),fields:n.value.mapValue.fields}}function U0(e,t){let n;if(t instanceof Ls)n={update:qu(e,t.key,t.value)};else if(t instanceof ip)n={delete:Ha(e,t.key)};else if(t instanceof Yn)n={update:qu(e,t.key,t.data),updateMask:q0(t.fieldMask)};else{if(!(t instanceof P0))return tt();n={verify:Ha(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Oi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mi)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw tt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:M0(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:tt()}(e,t.precondition)),n}function j0(e,t){return e&&e.length>0?(Ut(t!==void 0),e.map(n=>function(s,i){let o=s.updateTime?fr(s.updateTime):fr(i);return o.isEqual(bt.min())&&(o=fr(i)),new b0(o,s.transformResults||[])}(n,t))):[]}function H0(e){let t=F0(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ut(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=ap(h);return f instanceof Tn&&jd(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(E){return new ki(sr(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,$l(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Vi(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new Vi(m,f)}(n.endAt)),h0(t,s,o,i,a,"F",l,c)}function ap(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sr(n.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=sr(n.unaryFilter.field);return Ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=sr(n.unaryFilter.field);return Ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sr(n.unaryFilter.field);return Ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(e):e.fieldFilter!==void 0?function(n){return Ft.create(sr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(r=>ap(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tt()}}(n.compositeFilter.op))}(e):tt()}function sr(e){return Kt.fromServerFormat(e.fieldPath)}function q0(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function z0(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t){this.ct=t}}function W0(e){const t=H0({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?$a(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this._n=new Q0}addToCollectionParentIndex(t,n){return this._n.add(n),I.resolve()}getCollectionParents(t,n){return I.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return I.resolve()}deleteFieldIndex(t,n){return I.resolve()}deleteAllFieldIndexes(t){return I.resolve()}createTargetIndexes(t,n){return I.resolve()}getDocumentsMatchingTarget(t,n){return I.resolve(null)}getIndexType(t,n){return I.resolve(0)}getFieldIndexes(t,n){return I.resolve([])}getNextCollectionGroupToUpdate(t){return I.resolve(null)}getMinOffset(t,n){return I.resolve(wn.min())}getMinOffsetFromCollectionGroup(t,n){return I.resolve(wn.min())}updateCollectionGroup(t,n,r){return I.resolve()}updateIndexEntries(t,n){return I.resolve()}}class Q0{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new ne(St.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new ne(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Rr(0)}static Ln(){return new Rr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.changes=new kr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&es(r.mutation,s,Ae.empty(),Bt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Jt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Jt()){const s=Bn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=ei();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Bn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Jt()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=Ni();const o=ts(),a=function(){return ts()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Yn)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),es(u.mutation,c,u.mutation.getFieldMask(),Bt.now())):o.set(c.key,Ae.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new X0(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ts();let s=new le((o,a)=>o-a),i=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ae.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||Jt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Yd();u.forEach(f=>{if(!i.has(f)){const m=rp(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):d0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):I.resolve(Bn());let a=-1,l=i;return o.next(c=>I.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?I.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Jt())).next(u=>({batchId:a,changes:Qd(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new X(n)).next(r=>{let s=ei();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=ei();return this.indexManager.getCollectionParents(t,i).next(a=>I.forEach(a,l=>{const c=function(h,f){return new yo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,ye.newInvalidDocument(u)))});let a=ei();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&es(u.mutation,c,Ae.empty(),Bt.now()),zl(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return I.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:fr(s.createTime)}}(n)),I.resolve()}getNamedQuery(t,n){return I.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(s){return{name:s.name,query:W0(s.bundledQuery),readTime:fr(s.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.overlays=new le(X.comparator),this.hr=new Map}getOverlay(t,n){return I.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Bn();return I.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ht(t,n,i)}),I.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),I.resolve()}getOverlaysForCollection(t,n,r){const s=Bn(),i=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return I.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new le((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Bn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Bn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return I.resolve(a)}ht(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new x0(n,r));let i=this.hr.get(n);i===void 0&&(i=Jt(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.Pr=new ne(Mt.Ir),this.Tr=new ne(Mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new Mt(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new Mt(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new X(new St([])),r=new Mt(n,t),s=new Mt(n,t+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new X(new St([])),r=new Mt(n,t),s=new Mt(n,t+1);let i=Jt();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Mt(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Mt{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return X.comparator(t.key,n.key)||yt(t.pr,n.pr)}static Er(t,n){return yt(t.pr,n.pr)||X.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ne(Mt.Ir)}checkEmpty(t){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D0(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Mt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(t,n){return I.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.br(r),i=s<0?0:s;return I.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Mt(n,0),s=new Mt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),I.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ne(yt);return n.forEach(s=>{const i=new Mt(s,0),o=new Mt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),I.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new Mt(new X(i),0);let a=new ne(yt);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),I.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Ut(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return I.forEach(n.mutations,s=>{const i=new Mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new Mt(n,0),s=this.wr.firstAfterOrEqual(r);return I.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,I.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t){this.vr=t,this.docs=function(){return new le(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():ye.newInvalidDocument(n))}getEntries(t,n){let r=Ni();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ye.newInvalidDocument(s))}),I.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=Ni();const o=n.path,a=new X(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||zw(qw(u),r)<=0||(s.has(u.key)||zl(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return I.resolve(i)}getAllFromCollectionGroup(t,n,r,s){tt()}Fr(t,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new rT(this)}getSize(t){return I.resolve(this.size)}}class rT extends Y0{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(t,s)):this.ar.removeEntry(r)}),I.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t){this.persistence=t,this.Mr=new kr(n=>Hl(n),ql),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wl,this.targetCount=0,this.Lr=Rr.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,s)=>n(s)),I.resolve()}getLastRemoteSnapshotVersion(t){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return I.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),I.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Rr(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,I.resolve()}updateTargetData(t,n){return this.qn(n),I.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),I.waitFor(i).next(()=>s)}getTargetCount(t){return I.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return I.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),I.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),I.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),I.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return I.resolve(r)}containsKey(t,n){return I.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,n){this.Br={},this.overlays={},this.kr=new Md(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new sT(this),this.indexManager=new G0,this.remoteDocumentCache=function(s){return new nT(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new K0(n),this.$r=new Z0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tT,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new eT(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){O("MemoryPersistence","Starting transaction:",t);const s=new oT(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(t,n){return I.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class oT extends Ww{constructor(t){super(),this.currentSequenceNumber=t}}class Gl{constructor(t){this.persistence=t,this.zr=new Wl,this.jr=null}static Hr(t){return new Gl(t)}get Jr(){if(this.jr)return this.jr;throw tt()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),I.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),I.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Jr,r=>{const s=X.fromPath(r);return this.Yr(t,s).next(i=>{i||n.removeEntry(s,bt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return I.or([()=>I.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(t,n){let r=Jt(),s=Jt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ql(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dv()?8:Fn.v(vi())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ji(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new aT;return this.Ji(t,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>i.result)}Yi(t,n,r,s){return r.documentReadCount<this.Wi?($r()<=st.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Ur(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),I.resolve()):($r()<=st.DEBUG&&O("QueryEngine","Query:",Ur(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?($r()<=st.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Ur(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hn(n))):I.resolve())}ji(t,n){if(Bu(n))return I.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$a(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=Jt(...i);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(t,$a(n,null,"F")):this.es(t,c,n,l)}))})))}Hi(t,n,r,s){return Bu(n)||s.isEqual(bt.min())?I.resolve(null):this.zi.getDocuments(t,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?I.resolve(null):($r()<=st.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ur(n)),this.es(t,o,n,Hw(s,-1)).next(a=>a))})}Zi(t,n){let r=new ne(m0(t));return n.forEach((s,i)=>{zl(t,i)&&(r=r.add(i))}),r}Xi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(t,n,r){return $r()<=st.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Ur(n)),this.zi.getDocumentsMatchingQuery(t,n,wn.min(),r)}es(t,n,r,s){return this.zi.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,n,r,s){this.persistence=t,this.ts=n,this.serializer=s,this.ns=new le(yt),this.rs=new kr(i=>Hl(i),ql),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new J0(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function uT(e,t,n,r){return new cT(e,t,n,r)}async function lp(e,t){const n=It(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Jt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function hT(e,t){const n=It(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let m=I.resolve();return f.forEach(E=>{m=m.next(()=>u.getEntry(l,E)).next(_=>{const T=c.docVersions.get(E);Ut(T!==null),_.version.compareTo(T)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Jt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function fT(e){const t=It(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function dT(e,t){const n=It(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}class zu{constructor(){this.activeTargetIds=w0()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pT{constructor(){this.no=new zu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new zu,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ni=null;function Xo(){return ni===null?ni=function(){return 268435456+Math.round(2147483648*Math.random())}():ni++,"0x"+ni.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class yT extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Xo(),l=this.bo(n,r.toUriEncodedString());O("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(O("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ci("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=gT[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,s){const i=Xo();return new Promise((o,a)=>{const l=new Vw;l.setWithCredentials(!0),l.listenOnce(Dw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yo.NO_ERROR:const u=l.getResponseJson();O(Yt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),o(u);break;case Yo.TIMEOUT:O(Yt,`RPC '${t}' ${i} timed out`),a(new H(b.DEADLINE_EXCEEDED,"Request time out"));break;case Yo.HTTP_ERROR:const h=l.getStatus();if(O(Yt,`RPC '${t}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const E=function(T){const S=T.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(S)>=0?S:b.UNKNOWN}(m.status);a(new H(E,m.message))}else a(new H(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(b.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{O(Yt,`RPC '${t}' ${i} completed.`)}});const c=JSON.stringify(s);O(Yt,`RPC '${t}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(t,n,r){const s=Xo(),i=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Cw(),a=Pw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");O(Yt,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,m=!1;const E=new _T({lo:T=>{m?O(Yt,`Not sending because RPC '${t}' stream ${s} is closed:`,T):(f||(O(Yt,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),O(Yt,`RPC '${t}' stream ${s} sending:`,T),h.send(T))},ho:()=>h.close()}),_=(T,S,C)=>{T.listen(S,B=>{try{C(B)}catch(k){setTimeout(()=>{throw k},0)}})};return _(h,Js.EventType.OPEN,()=>{m||O(Yt,`RPC '${t}' stream ${s} transport opened.`)}),_(h,Js.EventType.CLOSE,()=>{m||(m=!0,O(Yt,`RPC '${t}' stream ${s} transport closed`),E.Vo())}),_(h,Js.EventType.ERROR,T=>{m||(m=!0,Ci(Yt,`RPC '${t}' stream ${s} transport errored:`,T),E.Vo(new H(b.UNAVAILABLE,"The operation could not be completed")))}),_(h,Js.EventType.MESSAGE,T=>{var S;if(!m){const C=T.data[0];Ut(!!C);const B=C,k=B.error||((S=B[0])===null||S===void 0?void 0:S.error);if(k){O(Yt,`RPC '${t}' stream ${s} received error:`,k);const Z=k.status;let lt=function(ct){const nt=Vt[ct];if(nt!==void 0)return k0(nt)}(Z),Rt=k.message;lt===void 0&&(lt=b.INTERNAL,Rt="Unknown error status: "+Z+" with message "+k.message),m=!0,E.Vo(new H(lt,Rt)),h.close()}else O(Yt,`RPC '${t}' stream ${s} received:`,C),E.mo(C)}}),_(a,xw.STAT_EVENT,T=>{T.stat===Du.PROXY?O(Yt,`RPC '${t}' stream ${s} detected buffering proxy`):T.stat===Du.NOPROXY&&O(Yt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.Ro()},0),E}}function Jo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(e){return new N0(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n,r=1e3,s=1.5,i=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&O("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n,r,s,i,o,a,l){this.oi=t,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new cp(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(En(n.toString()),En("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{t(()=>{const s=new H(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return O("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ET extends vT{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=j0(t.writeResults,t.commitTime),r=fr(t.commitTime);return this.listener.T_(r,n)}return Ut(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=B0(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>U0(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new H(b.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(t,ja(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(b.UNKNOWN,i.toString())})}vo(t,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,ja(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(b.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class TT{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(En(n),this.g_=!1):O("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Bs(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=It(l);c.v_.add(4),await Fs(c),c.x_.set("Unknown"),c.v_.delete(4),await To(c)}(this))})}),this.x_=new TT(r,s)}}async function To(e){if(Bs(e))for(const t of e.F_)await t(!0)}async function Fs(e){for(const t of e.F_)await t(!1)}function Bs(e){return It(e).v_.size===0}async function up(e,t,n){if(!_o(t))throw t;e.v_.add(1),await Fs(e),e.x_.set("Offline"),n||(n=()=>fT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await To(e)})}function hp(e,t){return t().catch(n=>up(e,n,t))}async function Io(e){const t=It(e),n=In(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;AT(t);)try{const s=await dT(t.localStore,r);if(s===null){t.D_.length===0&&n.Xo();break}r=s.batchId,RT(t,s)}catch(s){await up(t,s)}fp(t)&&dp(t)}function AT(e){return Bs(e)&&e.D_.length<10}function RT(e,t){e.D_.push(t);const n=In(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function fp(e){return Bs(e)&&!In(e).Ho()&&e.D_.length>0}function dp(e){In(e).start()}async function bT(e){In(e).d_()}async function ST(e){const t=In(e);for(const n of e.D_)t.I_(n.mutations)}async function CT(e,t,n){const r=e.D_.shift(),s=Kl.from(r,t,n);await hp(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Io(e)}async function PT(e,t){t&&In(e).P_&&await async function(r,s){if(function(o){return V0(o)&&o!==b.ABORTED}(s.code)){const i=r.D_.shift();In(r).Zo(),await hp(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Io(r)}}(e,t),fp(e)&&dp(e)}async function Wu(e,t){const n=It(e);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=Bs(n);n.v_.add(3),await Fs(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await To(n)}async function DT(e,t){const n=It(e);t?(n.v_.delete(2),await To(n)):t||(n.v_.add(2),await Fs(n),n.x_.set("Unknown"))}function In(e){return e.L_||(e.L_=function(n,r,s){const i=It(n);return i.R_(),new ET(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Po:bT.bind(null,e),To:PT.bind(null,e),E_:ST.bind(null,e),T_:CT.bind(null,e)}),e.F_.push(async t=>{t?(e.L_.Zo(),await Io(e)):(await e.L_.stop(),e.D_.length>0&&(O("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new Yl(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(b.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pp(e,t){if(En("AsyncQueue",`${t}: ${e}`),_o(e))return new H(b.UNAVAILABLE,`${t}: ${e}`);throw e}class xT{constructor(){this.queries=new kr(t=>Wd(t),Kd),this.onlineState="Unknown",this.W_=new Set}}function VT(e){e.W_.forEach(t=>{t.next()})}var Gu,Qu;(Qu=Gu||(Gu={})).j_="default",Qu.Cache="cache";class kT{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new kr(a=>Wd(a),Kd),this.Sa=new Map,this.ba=new Set,this.Da=new le(X.comparator),this.Ca=new Map,this.va=new Wl,this.Fa={},this.Ma=new Map,this.xa=Rr.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function NT(e,t,n){const r=FT(e);try{const s=await function(o,a){const l=It(o),c=Bt.now(),u=a.reduce((m,E)=>m.add(E.key),Jt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=Ni(),_=Jt();return l.os.getEntries(m,u).next(T=>{E=T,E.forEach((S,C)=>{C.isValidDocument()||(_=_.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,E)).next(T=>{h=T;const S=[];for(const C of a){const B=C0(C,h.get(C.key).overlayedDocument);B!=null&&S.push(new Yn(C.key,B,Bd(B.value.mapValue),Ye.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,a)}).next(T=>{f=T;const S=T.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,T.batchId,S)})}).then(()=>({batchId:f.batchId,changes:Qd(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new le(yt)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ao(r,s.changes),await Io(r.remoteStore)}catch(s){const i=pp(s,"Failed to persist write");n.reject(i)}}function Yu(e,t,n){const r=It(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=It(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.Q_)f.G_(a)&&(c=!0)}),c&&VT(l)}(r.eventManager,t),s.length&&r.ya.u_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function OT(e,t){const n=It(e),r=t.batch.batchId;try{const s=await hT(n.localStore,t);gp(n,r,null),mp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ao(n,s)}catch(s){await Od(s)}}async function MT(e,t,n){const r=It(e);try{const s=await function(o,a){const l=It(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ut(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);gp(r,t,n),mp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ao(r,s)}catch(s){await Od(s)}}function mp(e,t){(e.Ma.get(t)||[]).forEach(n=>{n.resolve()}),e.Ma.delete(t)}function gp(e,t,n){const r=It(e);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Fa[r.currentUser.toKey()]=s}}async function Ao(e,t,n){const r=It(e),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Ql.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=It(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(c,f=>I.forEach(f.qi,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>I.forEach(f.Qi,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!_o(h))throw h;O("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=u.ns.get(f),E=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(E);u.ns=u.ns.insert(f,_)}}}(r.localStore,i))}async function LT(e,t){const n=It(e);if(!n.currentUser.isEqual(t)){O("SyncEngine","User change. New user:",t.toKey());const r=await lp(n.localStore,t);n.currentUser=t,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new H(b.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ao(n,r.us)}}function FT(e){const t=It(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MT.bind(null,t),t}class Xu{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=wo(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return uT(this.persistence,new lT,t.initialUser,this.serializer)}createPersistence(t){return new iT(Gl.Hr,this.serializer)}createSharedClientState(t){return new pT}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BT{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Yu(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LT.bind(null,this.syncEngine),await DT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new xT}()}createDatastore(t){const n=wo(t.databaseInfo.databaseId),r=function(i){return new yT(i)}(t.databaseInfo);return function(i,o,a,l){return new wT(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new IT(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Yu(this.syncEngine,n,0),function(){return Ku.D()?new Ku:new mT}())}createSyncEngine(t,n){return function(s,i,o,a,l,c,u){const h=new kT(s,i,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const s=It(r);O("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Fs(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xt.UNAUTHENTICATED,this.clientId=Nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{O("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(O("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=pp(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Zo(e,t){e.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lp(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ju(e,t){e.asyncQueue.verifyOperationInProgress();const n=await jT(e);O("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Wu(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>Wu(t.remoteStore,s)),e._onlineComponents=t}function UT(e){return e.name==="FirebaseError"?e.code===b.FAILED_PRECONDITION||e.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function jT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!UT(n))throw n;Ci("Error using user provided cache. Falling back to memory cache: "+n),await Zo(e,new Xu)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await Zo(e,new Xu);return e._offlineComponents}async function HT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await Ju(e,e._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await Ju(e,new BT))),e._onlineComponents}function qT(e){return HT(e).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(e,t,n){if(!n)throw new H(b.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function zT(e,t,n,r){if(t===!0&&r===!0)throw new H(b.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function th(e){if(!X.isDocumentKey(e))throw new H(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function eh(e){if(X.isDocumentKey(e))throw new H(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Xl(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":tt()}function vp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xl(e);throw new H(b.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new H(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_p((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ro{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new H(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nh(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nw;switch(r.type){case"firstParty":return new Fw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Zu.get(n);r&&(O("ComponentProvider","Removing Datastore"),Zu.delete(n),r.terminate())}(this),Promise.resolve()}}function KT(e,t,n,r={}){var s;const i=(e=vp(e,Ro))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Xt.MOCK_USER;else{a=hv(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Xt(c)}e._authCredentials=new Ow(new kd(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Jl(this.firestore,t,this._query)}}class Xe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _n(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xe(this.firestore,t,this._key)}}class _n extends Jl{constructor(t,n,r){super(t,n,f0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xe(this.firestore,null,new X(t))}withConverter(t){return new _n(this.firestore,t,this._path)}}function WT(e,t,...n){if(e=hs(e),yp("collection","path",t),e instanceof Ro){const r=St.fromString(t,...n);return eh(r),new _n(e,null,r)}{if(!(e instanceof Xe||e instanceof _n))throw new H(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(St.fromString(t,...n));return eh(r),new _n(e.firestore,null,r)}}function GT(e,t,...n){if(e=hs(e),arguments.length===1&&(t=Nd.newId()),yp("doc","path",t),e instanceof Ro){const r=St.fromString(t,...n);return th(r),new Xe(e,null,new X(r))}{if(!(e instanceof Xe||e instanceof _n))throw new H(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(St.fromString(t,...n));return th(r),new Xe(e.firestore,e instanceof _n?e.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new cp(this,"async_queue_retry"),this.cu=()=>{const n=Jo();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=Jo();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const n=Jo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise(()=>{});const n=new gn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ru.push(t),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(t){if(!_o(t))throw t;O("AsyncQueue","Operation failed with retryable error: "+t)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(t){const n=this.nu.then(()=>(this._u=!0,t().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw En("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(t,n,r){this.lu(),this.uu.indexOf(t)>-1&&(n=0);const s=Yl.createAndSchedule(this,t,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&tt()}verifyOperationInProgress(){}async Tu(){let t;do t=this.nu,await t;while(t!==this.nu)}Eu(t){for(const n of this.su)if(n.timerId===t)return!0;return!1}du(t){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tu()})}Au(t){this.uu.push(t)}Iu(t){const n=this.su.indexOf(t);this.su.splice(n,1)}}class Ep extends Ro{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new QT}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wp(this),this._firestoreClient.terminate()}}function YT(e,t){const n=typeof e=="object"?e:gE(),r=typeof e=="string"?e:t||"(default)",s=fE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=cv("firestore");i&&KT(s,...i)}return s}function XT(e){return e._firestoreClient||wp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wp(e){var t,n,r;const s=e._freezeSettings(),i=function(a,l,c,u){return new Zw(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,_p(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new $T(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ss(Ze.fromBase64String(t))}catch(n){throw new H(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ss(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return yt(this._lat,t._lat)||yt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=/^__.*__$/;class ZT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Yn(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ls(t,this.data,n,this.fieldTransforms)}}function Rp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Zl{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new Zl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:r,gu:!1});return s.pu(t),s}yu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return Li(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(t.length===0)throw this.Su("Document fields must not be empty");if(Rp(this.Vu)&&JT.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class tI{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||wo(t)}Cu(t,n,r,s=!1){return new Zl({Vu:t,methodName:n,Du:r,path:Kt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eI(e){const t=e._freezeSettings(),n=wo(e._databaseId);return new tI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nI(e,t,n,r,s,i={}){const o=e.Cu(i.merge||i.mergeFields?2:0,t,n,s);Pp("Data must be an object, but it was:",o,r);const a=Sp(r,o);let l,c;if(i.merge)l=new Ae(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=rI(t,h,n);if(!o.contains(f))throw new H(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);oI(u,f)||u.push(f)}l=new Ae(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new ZT(new we(a),l,c)}function bp(e,t){if(Cp(e=hs(e)))return Pp("Unsupported field value:",t,e),Sp(e,t);if(e instanceof Ip)return function(r,s){if(!Rp(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&t.Vu!==4)throw t.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=bp(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=hs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Bt.fromDate(r);return{timestampValue:Ua(s.serializer,i)}}if(r instanceof Bt){const i=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ua(s.serializer,i)}}if(r instanceof Ap)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ss)return{bytesValue:O0(s.serializer,r._byteString)};if(r instanceof Xe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:op(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Xl(r)}`)}(e,t)}function Sp(e,t){const n={};return Ld(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(e,(r,s)=>{const i=bp(s,t.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Cp(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Bt||e instanceof Ap||e instanceof Ss||e instanceof Xe||e instanceof Ip)}function Pp(e,t,n){if(!Cp(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Xl(n);throw r==="an object"?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function rI(e,t,n){if((t=hs(t))instanceof Tp)return t._internalPath;if(typeof t=="string")return iI(e,t);throw Li("Field path arguments must be of type string or ",e,!1,void 0,n)}const sI=new RegExp("[~\\*/\\[\\]]");function iI(e,t,n){if(t.search(sI)>=0)throw Li(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Tp(...t.split("."))._internalPath}catch{throw Li(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Li(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new H(b.INVALID_ARGUMENT,a+e+l)}function oI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function lI(e,t){const n=vp(e.firestore,Ep),r=GT(e),s=aI(e.converter,t);return cI(n,[nI(eI(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,Ye.exists(!1))]).then(()=>r)}function cI(e,t){return function(r,s){const i=new gn;return r.asyncQueue.enqueueAndForget(async()=>NT(await qT(r),s,i)),i.promise}(XT(e),t)}(function(t,n=!0){(function(s){Vr=s})(mE),wi(new fs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ep(new Mw(r.getProvider("auth-internal")),new $w(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xi(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ur(xu,"4.5.0",t),ur(xu,"4.5.0","esm2017")})();const uI={apiKey:"AIzaSyAa2kNCwpgCjaP0y-25cvUg8zLC29OuNEU",authDomain:"formbd-48efc.firebaseapp.com",projectId:"formbd-48efc",storageBucket:"formbd-48efc.appspot.com",messagingSenderId:"271445779896",appId:"1:271445779896:web:c5593aa29f8585f8359b4d",measurementId:"G-67YVC226E3"},hI=Sf(uI),fI=YT(hI),dI=WT(fI,"data"),pI=["onKeypress"],mI=me({__name:"FormComponent",setup(e){const t=be([]),n={name:["The CEO of Your Dreams Moniker","The Professional Pajama Enthusiast","Chief Happiness Officer (CHO)","Master of Multitasking","The Office Ninja"],email:["yourFutureBoss@emailDreams.com","futureOfficeRockstar@emailInbox.com","seriousDevHunter@emailHustle.com","newJobWhoDis@emailAdventure.com","emailMaestro@emailJoyfulJourney.net"],subject:["Ready to Rock and Roll!","Welcome Aboard, Superstar!","New Adventure Awaits!","Time for a Desk Dance Party!","Hired!, I Bring Snacks!"],message:["Pen a Message to Your Future Desktop","Dear Dev Wizard, Let's Conquer Together!","Write a Letter to Your Future Self at Work","A Message to Your Coffee Mug: You're Next!","Crafting My Oscar-Worthy Acceptance Speech"]},r=function(l,c){l.placeholder="";let u=Math.floor(Math.random()*c.length);t.value.push(...Zg(c[u],l,200))},s=function(l){let c=l.target;const u=c.name;t.value.push(setTimeout(()=>{r(c,n[u])},500))},i=function(l){l.target;const c=t.value.length;for(let u=0;u<c;u++)clearTimeout(t.value[u]);l.target.placeholder=jc(l.target.name)};function o(l){try{lI(dI,l).then(c=>{console.log("Your form sended successfully: ",c.id),alert("Your form sended successfully, thank you for submitting!")}).catch(c=>{console.error("Error, smth went wrong:",c)})}catch(c){console.warn(c)}}const a=()=>{const l={};for(const c of Object.keys(n)){const u=document.getElementById(c).value;if(u.length<4){alert(`All fields must be 4+ chars. "${c}" field is short.`);return}l[c]=u}o(l)};return(l,c)=>(ft(),vt("form",{class:"form",onSubmit:a,onKeypress:nf(a,["enter"])},[(ft(),vt(Nt,null,pr(n,(u,h,f)=>ot(sl(h==="message"?"textarea":"input"),{key:f,id:h,type:h==="email"?"email":h==="message"?"":"text",class:Fe(`form__${h} form__field`),name:h,placeholder:At(jc)(`${h}`),onMouseover:s,onMouseleave:i,autocomplete:"on",rows:h==="message"?7:"",required:""},null,40,["id","type","class","name","placeholder","rows"])),64)),z("button",{class:"form__btn",type:"button",onClick:a}," Send ")],40,pI))}}),gI={class:"container"},_I={class:"right contact"},yI={class:"right__block"},vI={class:"right__desc"},EI={class:"form__wrapper align-center"},wI=me({__name:"ContactView",setup(e){const t={title:"contact",info:"Interested in working together? Fill out the Project Inquiry form"},n={title:"form",info:"<- see all contact information"},r=be(!1),s=be(!1),i=()=>cs(769,r);return en(()=>{window.addEventListener("resize",i),cs(769,r)}),Cr(()=>{window.removeEventListener("resize",i)}),(o,a)=>(ft(),vt("div",gI,[z("div",_I,[ot(gr,{name:"def"},{default:Te(()=>[dc(z("div",yI,[ot(vr,{title:t.title,info:t.info,smallView:r.value,onShowFormTrue:a[0]||(a[0]=l=>s.value=!0)},null,8,["title","info","smallView"]),z("address",vI,[ot(_f,{full:"true"})])],512),[[Nc,!s.value||!r.value]])]),_:1}),ot(gr,{name:"def"},{default:Te(()=>[dc(z("div",EI,[r.value?(ft(),Qi(vr,{key:0,title:n.title,info:n.info,smallView:r.value,onShowFormTrue:a[1]||(a[1]=l=>s.value=!1)},null,8,["title","info","smallView"])):dn("",!0),ot(mI)],512),[[Nc,s.value||!r.value]])]),_:1})])]))}}),TI={class:"container"},II={class:"right notFound"},AI={key:0,class:"notFound__imgs modals wh100"},RI=["onClick"],bI={class:"link"},SI=me({__name:"NotFoundView",emits:["score","endGame"],setup(e,{emit:t}){const n=t,r={title:"404",info:"page not found, click here to start game, or ..."},s=["home","works","skills","diploma","contacts"];let i=()=>{},o=0,a=be(0),l=be([.1,.1]),c=()=>{},u=0;const h=be(0);let f=(E,_)=>{};const m=()=>{f(!1,"you cheated, do not change the window size!")};return en(()=>{const E=document.querySelectorAll(".notFound__img"),_=document.querySelector(".notFound__imgs"),T=document.querySelector(".container"),S=document.querySelector(".notFound"),C=document.querySelector(".notFound__text"),B=document.querySelector(".notFound__text .right__info"),k=document.querySelector(".notFound__text .link"),Z=document.querySelector("ul.nav__list"),lt=Z.children;Ji(),i=Y=>{const M=typeof Y=="number"?E[Y]:_.children[0];M.style.opacity="0",o++,setTimeout(function(){M.remove(),o===E.length&&_.remove()},200)};const Rt=Y=>{T.style.padding=Y?"":"unset",T.style.maxWidth=Y?"":"unset",k.style.display=Y?"unset":"none",B.innerText=Y?r.info:r.info.slice(0,14),nr(S,"animCont",Y?"remove":"add"),nr(C,"animObj",Y?"remove":"add"),nr(Z,"timer",Y?"remove":"add")},G=function(){return setInterval(()=>{u===lt.length?(f(!0),ct()):(nr(lt[u],"end","add"),u++)},1e3)},ct=function(){clearInterval(h.value),u=0;for(let Y=0;Y<lt.length;Y++)nr(lt[Y],"end","remove")},nt=()=>{const[Y,M]=l.value,it=kt=>Math.round((kt>0?kt+.1:kt-.1)*10)/10;l.value=[it(Y),it(M)],n("score"),ct(),h.value=G()};c=()=>{if(o===E.length){Rt();const Y=n_(S,C);t_(a,l,S,C),window.addEventListener("resize",m),c=()=>{Y(),nt()}}else i()},f=(Y,M)=>{M?(alert(M),sf(),f=()=>{}):(Rt(!0),cancelAnimationFrame(a.value)),Y&&n("endGame")}}),Cr(()=>{f(),window.removeEventListener("resize",m)}),(E,_)=>{const T=la("router-link");return ft(),vt("div",TI,[z("div",II,[z("div",{class:"notFound__text",onClick:_[0]||(_[0]=S=>At(c)())},[ot(vr,{title:r.title,info:r.info},null,8,["title","info"]),ot(T,{to:"/",class:"link onHover"},{default:Te(()=>[Oe("Back To Home")]),_:1})]),s.length!==0?(ft(),vt("ul",AI,[(ft(),vt(Nt,null,pr(s,(S,C)=>z("li",{class:"notFound__img modal wh100",key:C},[z("p",{class:"modal__close link",onClick:B=>At(i)(C)},"x",8,RI),ot(T,{class:"modal__content",to:At(rf)(S,"home")},{default:Te(()=>[z("span",bI,Be(S),1)]),_:2},1032,["to"])])),64))])):dn("",!0)])])}}}),CI=uy({history:b_("/naweb"),routes:[{name:"home",path:"/",component:Cy},{name:"Works",path:"/works",component:jy},{name:"Skills",path:"/skills",component:Yy},{name:"Diploma",path:"/diploma",component:Zy},{name:"Contacts",path:"/contacts",component:wI},{path:"/:pathMatch(.*)*",name:"NotFound",component:SI}]});Yg(l_).use(CI).mount("#app");
